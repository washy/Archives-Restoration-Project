#base robot_standard.pop
#base robot_giant.pop
#base robot_gatebot.pop
#base robot_spidertank.pop

//Made by Jurrell https://steamcommunity.com/id/Jurrell/
//With much help from lite https://steamcommunity.com/profiles/76561198300633951/

//lite's (mission specific) contributions:
// - Reskins for crit banner and haste banner
// - Models for big bullet projectiles 
// - Materials and attachment attributes for gately gibuses
// - Made the entirety of the logic for the spectral gun
// - Made logic for some odds and ends
// - General advice and suggestions for ent stuff

Effort
{
    StartingCurrency 450
    CanBotsAttackWhileInSpawnRoom no
    RespawnWaveTime 5
    RobotLimit 25
	NoThrillerTaunt 1
	NoRomevisionCosmetics 1
    NoCritPumpkin 1
    ForceHoliday 2
    BotsAreHumans 2
    StandableHeads 1
    TextPrintTime 0
    BodyPartScaleSpeed 10
    BluHumanFlagCapture 1
    FixSetCustomModelInput 1
    FastNPCUpdate 1
    NoSkeletonSplit 1
    WaveStartCountdown 5

    PrecacheModel "models/weapons/c_models/c_critbanner/c_critbanner.mdl"
    PrecacheModel "models/weapons/c_models/c_hastebanner/c_hastebanner.mdl"
    PrecacheModel "models/player/items/all_class/gately_gibus_heavy.mdl"
    PrecacheModel "models/weapons/w_models/w_rocketbullet.mdl"
    PrecacheModel "models/props_mvm/spectralgun.mdl"
    PrecacheModel "models/props_mvm/spectralgun_base.mdl"
    PrecacheSound "music/vlvx_song4_cmprsd.mp3"
    PrecacheSound "music/vlvx_song23ambient_cmprsd.mp3"
    PrecacheSound "music/vlvx_song25_cmprsd.mp3"
    //one item (#1) 
    ItemAttributes 
	{
		ItemName "Baby Face's Blaster"
        "weapon spread bonus" 0.8
        "clip size penalty" 1
        "hype resets on jump" 25
        "lose hype on take damage" 1
        "special item description" "Lessened boost loss on dmg and jump"
	}
    //one item (#2)
    ItemAttributes
    {
        ItemName "The Flying Guillotine"
        "mark for death" 1
        "minicrits become crits" 1
    }
    //one item (#3)
    ItemAttributes
    {
        ClassName "TF_WEAPON_PISTOL"
        "max health additive bonus" 25
        "critboost on kill" 3
        "maxammo metal increased" 1.5
    }
    //one item (#4)
    ItemAttributes
    {
        ItemName "The Liberty Launcher"
        "mod projectile heat follow crosshair" 1
        "mod projectile heat seek power" 180
        "Projectile speed increased" 0.2
        "fire rate bonus hidden" 2
        "damage penalty" 1
        "damage bonus hidden" 2
        "clip size bonus" .25
        "projectile acceleration" 5000
        "projectile acceleration time" .1
        "projectile acceleration start time" .5
        "custom weapon fire sound" "=50|rpg_sounds/rocketfire1.wav"
        "mod projectile heat aim time" 10
        "custom impact sound" "sound/misc/null.wav"
        "special item description" "+100% damage bonus"
    }
    //one item (#5)
    ItemAttributes
    {
        ItemName "The B.A.S.E. Jumper"
        "dmg taken from blast reduced" 0.65
        "increased air control" 4
    }
    //one item (#6)
    ItemAttributes
    {
        ItemName "The Gunboats"
        "max health additive bonus" 25
        "deploy time decreased" 0.35
        "rocket jump damage reduction" .05
        "cancel falling damage" 2
    }
    
    //one item i swear(#7)
    ItemAttributes
    {
        ItemName "Panic Attack Shotgun"
        "minicritboost on kill" 5
        "max health additive bonus" 25
    }
    ItemAttributes
    {
        ItemName "TF_WEAPON_SHOTGUN_PRIMARY"
        "minicritboost on kill" 5
        "max health additive bonus" 25
    }
    ItemAttributes
    {
        ItemName "TF_WEAPON_SHOTGUN_SOLDIER"
        "minicritboost on kill" 5
        "max health additive bonus" 25
    }
    ItemAttributes
    {
        ItemName "TF_WEAPON_SHOTGUN_HWG"
        "minicritboost on kill" 5
        "max health additive bonus" 25
    }
    ItemAttributes
    {
        ItemName "TF_WEAPON_SHOTGUN_PYRO"
        "minicritboost on kill" 5
        "max health additive bonus" 25
    }
    //one item (#8)
    ItemAttributes
    {
        ItemName "The Degreaser"
        "flame_reflect_on_collision" 1
		"max_flame_reflection_count" 2
		"reflected_flame_dmg_reduction" 2
        "special item description" "Flames will ricochet off of surfaces up to 2 times. Ricocheted flames deal double damage"
    }
    //one item (#9)
    ItemAttributes
    {
        ItemName "The Pain Train"
        //"damage bonus" 2
        "dmg taken from bullets increased" 1
        "bleeding duration" 5
        "hit self on miss" 1
        "drop health pack on kill" 1
        "special damage type" 1
        "dmg taken mult from special damage type 1" 0.65
        "special item description" "+100% damage bonus with shield and boots/B.A.S.E Jumper equipped."
    }
    //one item (#10)
    ItemAttributes
    {
        ItemName "The Family Business"
        "health regen" 2
        "heal on hit for rapidfire" 25
        "switch from wep deploy time decreased" .7
        "single wep deploy time decreased" .4
    }
    //one item (#11)
    ItemAttributes //I really liked this on royal's mission so I just had to get permission to modify it and put it here
    {
        ItemName "The Gunslinger"
        "upgrade rate decrease" 2
        "mult dispenser rate" 1.5
        "mult teleporter recharge rate" 0.5
        "build rate bonus" 0.5
        "mvm sentry ammo" 2
        "engy sentry radius increased" 2
        "special item description" "+65% damage bonus on all primaries and the short circuit, +100% damage bonus for all melees."
    }
    //one item (#12)
    ItemAttributes
    {
        ItemName "TF_WEAPON_SMG"
        "damage bonus" 1.65
        "minicritboost on kill" 5
        "dmg pierces resists absorbs" 1
        "can headshot" 1
        "revolver use hit locations" 1
    }
    //one item (#13)
    ItemAttributes
    {
        ItemName "The Amputator"
        "special item description" "Alt-Fire: Provides mini-crits to nearby team members"
        "always crit" 1
    }
    //one item i swear(#14)
    ItemAttributes
    {
        ItemName "TF_WEAPON_INVIS"
        "max health additive bonus" 50
    }
    ItemAttributes
    {
        ItemName "The Cloak and Dagger"
        "max health additive bonus" 50
    }
    //one item (#15)
    ItemAttributes
    {
        ItemName "The Enforcer"
        "damage bonus" 1.5
        "fire rate penalty" 2
        "faster reload rate" 1.4
        "explosive bullets" 147
        "blast dmg to self increased" 0.6
        "special damage type" 2
        "mult dmg vs tanks" 2
        "self dmg push force decreased" 0.6
        "special item description" "Cannot blast jump while disguised"
    }
    PlayerItemEquipSpawnTemplate
	{
		Name "gunslinger_buff"
		ItemName "The Gunslinger"
	}
    PlayerItemEquipSpawnTemplate
	{
		Name "pistol_equipped"
		ClassName "TF_WEAPON_PISTOL"
	}
    PlayerItemEquipSpawnTemplate
	{
		Name "amputator_template"
		ItemName "The Amputator" 
	}
    PlayerItemEquipSpawnTemplate
	{
		Name "paintrain_template"
		ItemName "The Pain Train"
	}
    PlayerItemEquipSpawnTemplate
	{
		Name "boots_equipped"
		ItemName "Ali Baba's Wee Booties"
	}
    PlayerItemEquipSpawnTemplate
	{
		Name "boots_equipped"
		ItemName "The Bootlegger"
	}
    PlayerItemEquipSpawnTemplate
	{
		Name "boots_equipped"
		ItemName "The B.A.S.E. Jumper"
	}
    PlayerItemEquipSpawnTemplate
	{
		Name "shield_equipped"
		ClassName "tf_wearable_demoshield"
	}
    PlayerItemEquipSpawnTemplate
    {
        Name "paintrain_fix_template"
        ClassName "tf_weapon_grenadelauncher"
    }
    PlayerItemEquipSpawnTemplate
    {
        Name "paintrain_fix_template"
        ClassName "tf_weapon_pipebomblauncher"
    }
    PlayerItemEquipSpawnTemplate
    {
        Name "paintrain_fix_template"
        ClassName "tf_weapon_cannon"
    }
    PlayerShootTemplate [$SIGSEGV]  
	{
		Name rpg_shoottemplate
		ItemName "The Liberty Launcher"
		AttachToProjectile 1 
	}
    Mission	// Sentry Busters - All
	{
		Objective DestroySentries

		InitialCooldown 30
		Where spawnbot_mission_sentry_buster
		BeginAtWave 1
		RunForThisManyWaves 4
		CooldownTime 45

        TFBot
		{
			Template T_TFBot_SentryBuster
            CharacterAttributes
            {
                "move speed bonus" 1.2
            }
        }
	}
    Mission // For Wave 1
    {
        Where spawnbot_mission_sniper
        Objective Sniper 
        BeginAtWave 1
        RunForThisManyWaves 1
        DesiredCount 2
    
        InitialCooldown 20
        CooldownTime 30
    
        TFBot
        { 
            Template T_TFBot_Sniper
			Item "Zombie Sniper"
            CharacterAttributes
            {
                "voice pitch scale" 0.8
            }
		}
    }
    Mission // For Wave 2
    {
        Where spawnbot_mission_sniper
        Objective Spy 
        BeginAtWave 2
        RunForThisManyWaves 1
        DesiredCount 2
    
        InitialCooldown 20
        CooldownTime 30

        TFBot
        { 
            Template T_TFBot_Spy
            NoIdleSound 1
			Item "Zombie Spy"
            UseHumanModel 2
            Tag bot_spy
            CharacterAttributes
            {
                "voice pitch scale" 0.8
            }
		}
    }
    Mission // For Wave 3
    {
        Where spawnbot_mission_sniper
        Objective Sniper 
        BeginAtWave 3
        RunForThisManyWaves 1
        DesiredCount 2
    
        InitialCooldown 20
        CooldownTime 30
    
        TFBot
        { 
            Template T_TFBot_Sniper_Sydney_Sleeper
            NoIdleSound 1
			Item "Zombie Sniper"
            UseHumanModel 2
            CharacterAttributes
            {
                "voice pitch scale" 0.8
            }
		}
    }
    Mission // For Wave 4
    {
        Where spawnbot
        Objective Engineer
        BeginAtWave 4
        RunForThisManyWaves 1
        DesiredCount 1
    
        InitialCooldown 15
        CooldownTime 35
    
        TFBot
        { 
            Template T_TFBot_Engineer_Sentry_Teleporter
			Item "Zombie Engineer"
            UseHumanModel 2
            CharacterAttributes
            {
                "voice pitch scale" 0.8
            }
        }
    }
    Wave // Wave #1
    {
        StartWaveOutput
        {
            Target wave_start_ironman_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn
        {
            Name "w1_a_gatebot"
            Where flankers
            TotalCount 24
            MaxActive 9
            SpawnCount 3
            WaitBeforeStarting 1
            WaitBetweenSpawns 8
            TotalCurrency 120
            
            TFBot
            { 
                Template JURGateBot_Pyro_DragonFury
            }
        }
        WaveSpawn
        {
            Name "w1_a"
            Where spawnbot
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 4
            TotalCurrency 20
            TFBot
            { 
                Template JURBot_Heavy_Warrior
            }
        }
        WaveSpawn
        {
            Name "w1_a"
            Where spawnbot
            TotalCount 15
            MaxActive 7
            SpawnCount 1
            WaitBeforeStarting 3
            WaitBetweenSpawns 3
            TotalCurrency 300
            RandomChoice
            {
            TFBot
            { 
                Template JURBot_Heavy_Warrior
            }
            TFBot
            { 
                Template JURBot_Heavy_Warrior
            }
            TFBot
            { 
                Template JURBot_Heavy_Warrior
            }
            TFBot
            { 
                Template JURBot_Heavy_Warrior
            }
            TFBot
            { 
                Template JURBot_Heavy_Warrior
            }
            TFBot
            { 
                Template JURBot_Heavy_Warrior
            }
            TFBot
            { 
                Template JURBot_Heavy_Warrior
            }
            TFBot
            { 
                Template JURBot_Heavy_Warrior
            }
            TFBot
            { 
                Template JURBot_Heavy_Warrior
            }
            TFBot
            { 
                Template JURBot_Heavy_Warrior
            }
            TFBot
            { 
                Template JURBot_Heavy_Warrior
            }
            TFBot
            { 
                Template JURBot_Heavy_Warrior
                Item "Point and Shoot"
				ItemAttributes
                {
					ItemName "Point and Shoot"
					"attach particle effect" 150
				}
                Tag spell_crits
				NoBombUpgrades 1 [$SIGSEGV]
                SuppressTimedFetchFlag 1 [$SIGSEGV]
                AddCond { Name TF_COND_CRITBOOSTED_USER_BUFF }
                SpawnTemplate "spellbook_bot_init"
            }
            }
        }
        WaveSpawn
        {
            Name "w1_b"
            WaitForAllDead "w1_a"
            Where spawnbot
            TotalCount 3
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 15
        
            TotalCurrency 225
        
            TFBot
            { 
                Template T_TFBot_Giant_Demo_RapidFire
                CharacterAttributes
			    {
                    "voice pitch scale" 0
			    }
                NoIdleSound 1
                UseHumanModel 2
                Item "Zombie Demo"
            }
        }
        WaveSpawn
        {
            Name "w1_b"
            WaitForAllDead "w1_a"
            Where spawnbot
            TotalCount 18
            MaxActive 9
            SpawnCount 3
            WaitBeforeStarting 0
            WaitBetweenSpawns 6
        
            TotalCurrency 180
            RandomChoice
            {
            TFBot
            {
                Template JURBot_Soldier_RocketShotgun
            }
            TFBot
            {
                Template JURBot_Soldier_RocketShotgun
            }
            TFBot
            {
                Template JURBot_Soldier_RocketShotgun
            }
            TFBot
            {
                Template JURBot_Soldier_RocketShotgun
            }
            TFBot
            {
                Template JURBot_Soldier_RocketShotgun
            }
            TFBot
            {
                Template JURBot_Soldier_RocketShotgun
            }
            TFBot
            {
                Template JURBot_Soldier_RocketShotgun
            }
            TFBot
            {
                Template JURBot_Soldier_RocketShotgun
            }
            TFBot
            {
                Template JURBot_Soldier_RocketShotgun
            }
            TFBot
            {
                Template JURBot_Soldier_RocketShotgun
                Item "Point and Shoot"
				ItemAttributes
                {
					ItemName "Point and Shoot"
					"attach particle effect" 149
				}
                Tag spell_haste
				NoBombUpgrades 1 [$SIGSEGV]
                SuppressTimedFetchFlag 1 [$SIGSEGV]
                AddCond { Name TF_COND_KING_BUFFED }
                SpawnTemplate "spellbook_bot_init"
            }
            }
        }
        WaveSpawn
        {
            Name "w1_b_extra"
            WaitForAllDead "w1_a"
            Where flankers
            TotalCount 32
            MaxActive 9
            SpawnCount 3
            WaitBeforeStarting 0
            WaitBetweenSpawns 8
        
            TotalCurrency 145
            TFBot
            { 
                Template JURGateBot_Scout_Slowfire
            }
            
        }
        WaveSpawn
        {
            Name "w1_c"
            WaitForAllDead "w1_b"
            Where spawnbot
            TotalCount 4
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 12
        
            TotalCurrency 200
        
            TFBot
            { 
                Template T_TFBot_Giant_Engineer_Widowmaker
                NoIdleSound 1
                UseHumanModel 2
                Item "Zombie Engineer"
                CharacterAttributes
                {
                    "voice pitch scale" 0
                }
            }
        }
        WaveSpawn
        {
            Name "w1_c"
            WaitForAllDead "w1_b"
            Where flankers
            TotalCount 32
            MaxActive 12
            SpawnCount 4
            WaitBeforeStarting 1
            WaitBetweenSpawns 8
        
            TotalCurrency 160
            RandomChoice
            {
                TFBot
                { 
                    Template JURGateBot_Demoman
                    Skill Easy
                    UseHumanModel 2
                    Item "Zombie Demo"
                    CharacterAttributes
                    {
                        "voice pitch scale" 0.8
                    }
                }
                TFBot
                { 
                    Template JURGateBot_Demoman
                    Skill Normal
                    UseHumanModel 2
                    Item "Zombie Demo"
                    CharacterAttributes
                    {
                        "voice pitch scale" 0.8
                    }
                }
                TFBot
                {
                    Template JURGateBot_Demoman
                    Skill Hard
                    UseHumanModel 2
                    Item "Zombie Demo"
                    CharacterAttributes
                    {
                        "voice pitch scale" 0.8
                    }
                }
            }
        }
        WaveSpawn
        {
            Name "w1_d"
            WaitForAllDead "w1_c"
            Where spawnbot
            TotalCount 8
            MaxActive 6
            SpawnCount 2
            WaitBeforeStarting 0
            WaitBetweenSpawns 8
            TotalCurrency 200
            Squad
            {
                TFBot
                { 
                    Class Demoman
			        ClassIcon demoknight_giant
			        Name "Giant Demoknight"
			        Skill Expert
			        Health 3300
			        Item "Prince Tavish's Crown"
			        Item "The Eyelander"
			        Item "Ali Baba's Wee Booties"
			        WeaponRestrictions MeleeOnly
			        Attributes MiniBoss
			        ItemAttributes
			        {
			        	ItemName "The Eyelander"
			        	"critboost on kill" 3
			        }
			        CharacterAttributes
			        {
			        	"move speed bonus" 0.5
			        	"damage force reduction" 0.5
			        	"airblast vulnerability multiplier" 0.5
			        	"override footstep sound set" 4
			        }
                    NoIdleSound 1
			        Item "Zombie Demo"
                    UseHumanModel 2
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                    }
                    SpawnTemplate "powerup_knockout_logic"
                }
                TFBot
                {
                    Template T_TFBot_Medic_Knockout
                    
                    CharacterAttributes
                    {
                        "voice pitch scale" 0.8
                    }
                    UseHumanModel 2
			        Item "Zombie Medic"
                }
            }
        }
        WaveSpawn
        {
            Name "w1_d"
            WaitForAllDead "w1_c"
            Where spawnbot
            TotalCount 4
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 15
            WaitBetweenSpawns 10
            TotalCurrency 100
        
            TFBot
            { 
                Template T_TFBot_Giant_Scout
                CharacterAttributes
			    {
                    "voice pitch scale" 0.8
			    }
                NoIdleSound 1
                UseHumanModel 2
                Item "Zombie Scout"
            }
        }
        WaveSpawn 
        {
			Name "wave1_hellion"
			Where spawnbot_spell
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 30
			WaitBetweenSpawns 60
			Support 1

			TFBot
            {
    			Template JURBot_Spell_Skeleton_One
                Tag spell_underworld
                NoBombUpgrades 1 [$SIGSEGV]
                SuppressTimedFetchFlag 1 [$SIGSEGV]
			}
		}
        WaveSpawn 
        {
			Name "wave1_hellion"
			Where spawnbot_underworld_main_2
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_One
                SpawnTemplate "underworld_skeleton_main"
			}
		}
        WaveSpawn 
        {
			Name "wave1_hellion"
			Where spawnbot_underworld_main_3
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_One
                SpawnTemplate "underworld_skeleton_main"
			}
		}
        WaveSpawn 
        {
			Name "wave1_hellion"
			Where spawnbot_underworld_loot_1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_One
                SpawnTemplate "underworld_skeleton_loot"
			}
		}
        WaveSpawn 
        {
			Name "wave1_hellion"
			Where spawnbot_underworld_loot_3
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_One
                SpawnTemplate "underworld_skeleton_loot"
			}
		}
    }
    Wave // Wave #2
    {
        SpawnTemplate "potiontosser_logic"
        StartWaveOutput
        {
            Target wave_start_ironman_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn
        { 
			Name "w2_a_tank"
			TotalCount 1
			TotalCurrency 200

            Tank
			{
				Template SpiderTank
				Name "SpiderTank"
				Health 20000
				StartingPathTrackNode "tank_path_1"
                SpawnTemplate "spidertank_color"
                Model "models/bots/boss_bot/boss_tank_color.mdl"
				OnKilledOutput                                  
				{
					Target boss_dead_relay
					Action Trigger                         
				}
				OnBombDroppedOutput                             
				{
					Target boss_deploy_relay 
					Action Trigger
				}
			}
		}
        WaveSpawn
        {
            Name "w2_a"
            Where flankers
            TotalCount 30
            MaxActive 9
            SpawnCount 3
            WaitBeforeStarting 1
            WaitBetweenSpawns 6
            TotalCurrency 150

            RandomChoice
            {
            TFBot
            { 
                Template T_TFBot_Pyro_Phlog
                Item "Zombie Pyro"
            }
            TFBot
            { 
                Template T_TFBot_Pyro_Phlog
                Item "Zombie Pyro"
            }
            TFBot
            { 
                Template T_TFBot_Pyro_Phlog
                Item "Zombie Pyro"
            }
            TFBot
            { 
                Template T_TFBot_Pyro_Phlog
                Item "Zombie Pyro"
            }
            TFBot
            { 
                Template T_TFBot_Pyro_Phlog
                Item "Zombie Pyro"
            }
            TFBot
            { 
                Template T_TFBot_Pyro_Phlog
                Item "Zombie Pyro"
            }
            TFBot
            { 
                Template T_TFBot_Pyro_Phlog
                Item "Zombie Pyro"
            }
            TFBot
            { 
                Template T_TFBot_Pyro_Phlog
                Item "Zombie Pyro"
            }
            TFBot
            { 
                Template T_TFBot_Pyro_Phlog
                Item "Zombie Pyro"
            }
            TFBot
            { 
                Template T_TFBot_Pyro_Phlog
                Item "Zombie Pyro"
            }
            TFBot
            { 
                Template T_TFBot_Pyro_Phlog
                Item "Zombie Pyro"
                Item "Point and Shoot"
				ItemAttributes
                {
					ItemName "Point and Shoot"
					"attach particle effect" 147
				}
                Tag spell_regen
				NoBombUpgrades 1 [$SIGSEGV]
                SuppressTimedFetchFlag 1 [$SIGSEGV]
                AddCond { Name TF_COND_HALLOWEEN_QUICK_HEAL }
                SpawnTemplate "regen_particle_template"
                SpawnTemplate "spellbook_bot_init_flanker"
            }
            }
        }
        WaveSpawn
        {
            Name "w2_a"
            Where flankers
            TotalCount 4
            MaxActive 4
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 12
        
            TotalCurrency 200
        
            TFBot
            { 
                Template T_TFBot_Giant_Soldier
                NoIdleSound 1
                Item "Zombie Soldier"
            }
        }
        WaveSpawn
        {
            Name "w2_a"
            Where spawnbot
            TotalCount 30
            MaxActive 12
            SpawnCount 6
            WaitBeforeStarting 2
            WaitBetweenSpawns 10
            TotalCurrency 125
        
            RandomChoice
            {
            TFBot
            { 
                Template JURBot_Heavy_Champ
            }
            TFBot
            { 
                Template JURBot_Heavy_Champ
            }
            TFBot
            { 
                Template JURBot_Heavy_Champ
            }
            TFBot
            { 
                Template JURBot_Heavy_Champ
            }
            TFBot
            { 
                Template JURBot_Heavy_Champ
            }
            TFBot
            { 
                Template JURBot_Heavy_Champ
            }
            TFBot
            { 
                Template JURBot_Heavy_Champ
            }
            TFBot
            { 
                Template JURBot_Heavy_Champ
            }
            TFBot
            { 
                Template JURBot_Heavy_Champ
                Item "Point and Shoot"
				ItemAttributes
                {
					ItemName "Point and Shoot"
					"attach particle effect" 149
				}
                Tag spell_haste
				NoBombUpgrades 1 [$SIGSEGV]
                SuppressTimedFetchFlag 1 [$SIGSEGV]
                AddCond { Name TF_COND_KING_BUFFED }
                SpawnTemplate "spellbook_bot_init"
            }
            }
        }
        WaveSpawn
        {
            Name "w2_b_gatebot"
            WaitForAllDead "w2_a"
            Where flankers
            TotalCount 36
            MaxActive 12
            SpawnCount 6
            WaitBeforeStarting 0
            WaitBetweenSpawns 8
        
            TotalCurrency 180
            TFBot
            {
                Template JURBot_Soldier_EscapePlan
                SpawnTemplate "gately_gibus_wearer"
                EventChangeAttributes
			    {
			    	Default
			    	{
			    		Tag bot_gatebot 				// having these will cause bots to run towards gates
			    		Tag nav_prefer_gate1_flank		// having these will cause bots to run towards gates
			    		BehaviorModifiers push			// having these will cause bots to run towards gates
			    		Attributes IgnoreFlag 			// having these will cause bots to run towards gates
    
			    		Item "Ghostly Gibus"
                        ItemAttributes
                        {
                            ItemName "Ghostly Gibus"
                            "custom item model" "models/player/items/all_class/gately_gibus_heavy.mdl"
                            "attachment name" "head"
                            "attachment scale" "1.04"
                            "attachment offset" "-2.2 0.45 -11.5"
                            "attachment angles" "0 0 6"
                        }
			    	}
			    	RevertGateBotsBehavior
			    	{
			    		Item "Ghostly Gibus"
			    	}
			    }
            }
        }
        WaveSpawn
        {
            Name "w2_b"
            WaitForAllDead "w2_a"
            Where spawnbot
            TotalCount 15
            MaxActive 15
            SpawnCount 5
            WaitBeforeStarting 0
            WaitBetweenSpawns 20
        
            TotalCurrency 375
            Squad
            {
                TFBot
				{	
					Template T_TFBot_Giant_Heavyweapons
                    CharacterAttributes
			        {
                        "voice pitch scale" 0
			        }
                    NoIdleSound 1
                    UseHumanModel 2
			        Item "Zombie Heavy"
                }
                TFBot
                {
                    Template T_TFBot_Medic_BigHeal
                    CharacterAttributes
			        {
                        "voice pitch scale" 0.8

			        }
                    UseHumanModel 2
			        Item "Zombie Medic"
                }
                TFBot
                {
                    Template T_TFBot_Medic_BigHeal
                    CharacterAttributes
			        {
                        "voice pitch scale" 0.8
			        }
                    UseHumanModel 2
			        Item "Zombie Medic"
                }
                TFBot
                {
                    Template T_TFBot_Medic_BigHeal
                    CharacterAttributes
			        {
                        "voice pitch scale" 0.8
			        }
                    UseHumanModel 2
			        Item "Zombie Medic"
                }
                TFBot
                {
                    Template T_TFBot_Medic_BigHeal
                    CharacterAttributes
			        {
                        "voice pitch scale" 0.8
			        }
                    UseHumanModel 2
			        Item "Zombie Medic"
                }
            }
        }
        WaveSpawn
        {
            Name "w2_c"
            WaitForAllDead "w2_b"
            Where flankers
            TotalCount 3
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 16
            TotalCurrency 300
            TFBot
            { 
                Template T_TFBot_Giant_Soldier_RocketShotgun
                CharacterAttributes
			    {
                    "voice pitch scale" 0
			    }
                NoIdleSound 1
                UseHumanModel 2
			    Item "Zombie Soldier"
            }
        }
        WaveSpawn
        {
            Name "w2_c"
            WaitForAllDead "w2_b"
            Where spawnbot
            Where flankers
            TotalCount 20
            MaxActive 6
            SpawnCount 1
            WaitBeforeStarting 12
            WaitBetweenSpawns 5
            Support Limited
            TotalCurrency 70
            RandomChoice
            {
            TFBot
            {
                Template JURBot_Scout_Shortstop
            }
            TFBot
            {
                Template JURBot_Scout_Shortstop
            }
            TFBot
            {
                Template JURBot_Scout_Shortstop
            }
            TFBot
            {
                Template JURBot_Scout_Shortstop
            }
            TFBot
            {
                Template JURBot_Scout_Shortstop
            }
            TFBot
            {
                Template JURBot_Scout_Shortstop
            }
            TFBot
            {
                Template JURBot_Scout_Shortstop
            }
            TFBot
            {
                Template JURBot_Scout_Shortstop
            }
            TFBot
            {
                Template JURBot_Scout_Shortstop
                Item "Point and Shoot"
				ItemAttributes
                {
					ItemName "Point and Shoot"
					"attach particle effect" 150
				}
                Tag spell_crits
				NoBombUpgrades 1 [$SIGSEGV]
                SuppressTimedFetchFlag 1 [$SIGSEGV]
                AddCond { Name TF_COND_CRITBOOSTED_USER_BUFF }
                SpawnTemplate "spellbook_bot_init_flanker"
            }
            }
        }
        WaveSpawn
        {
            Name "w2_c"
            WaitForAllDead "w2_b"
            Where spawnbot
            TotalCount 16
            MaxActive 4
            SpawnCount 1
            WaitBeforeStarting 8
            WaitBetweenSpawns 6
            Support Limited
        
            TFBot
            { 
                Template JURBot_PotionTosser
                Attributes DisableDodge
            }
        }
        WaveSpawn 
        {
			Name "wave2_hellion"
			Where spawnbot_spell
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 30
			WaitBetweenSpawns 60
			Support 1

			TFBot
            {
    			Template JURBot_Spell_Skeleton_Two
                Tag spell_underworld
                NoBombUpgrades 1 [$SIGSEGV]
                SuppressTimedFetchFlag 1 [$SIGSEGV]
			}
		}
        WaveSpawn 
        {
			Name "wave2_hellion"
			Where spawnbot_underworld_main_2
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_Two
                SpawnTemplate "underworld_skeleton_main"
			}
		}
        WaveSpawn 
        {
			Name "wave2_hellion"
			Where spawnbot_underworld_main_3
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_Two
                SpawnTemplate "underworld_skeleton_main"
			}
		}
        WaveSpawn 
        {
			Name "wave2_hellion"
			Where spawnbot_underworld_loot_1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_Two
                SpawnTemplate "underworld_skeleton_loot"
			}
		}
        WaveSpawn 
        {
			Name "wave2_hellion"
			Where spawnbot_underworld_loot_3
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_Two
                SpawnTemplate "underworld_skeleton_loot"
			}
		}
    }
    Wave // Wave #3
    {
        StartWaveOutput
        {
            Target wave_start_ironman_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn
        {
            Name "w3_a"
            Where spawnbot
            TotalCount 3
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 18
        
            TotalCurrency 150
        
            TFBot
            { 
                Template JURBot_Giant_Heavy_Shotgun_BurstFire
                NoIdleSound 1
                UseHumanModel 2
			    Item "Zombie Heavy"
            }
        }
        WaveSpawn
        {
            Name "w3_a_gatebot"
            Where flankers
            TotalCount 30
            MaxActive 8
            SpawnCount 3
            WaitBeforeStarting 3
            WaitBetweenSpawns 6
        
            TotalCurrency 225
        
            TFBot
            { 
			    Class Soldier
			    Name "Charged Soldier"
			    ClassIcon soldier_crit
			    Skill Normal
			    Item "The Original"
			    Attributes AlwaysCrit
			    WeaponRestrictions PrimaryOnly
			    ItemAttributes
			    {
			    	ItemName "The Original"
			    	"faster reload rate" 0.2
			    	"fire rate bonus" 2
			    	"Projectile speed increased" 0.5
			    }
                CharacterAttributes
			    {
                    "voice pitch scale" 0.8
			    }
                UseHumanModel 2
			    Item "Zombie Soldier"
                SpawnTemplate "gately_gibus_wearer"
                EventChangeAttributes
			    {
			    	Default
			    	{
			    		Tag bot_gatebot 				// having these will cause bots to run towards gates
			    		Tag nav_prefer_gate1_flank		// having these will cause bots to run towards gates
			    		BehaviorModifiers push			// having these will cause bots to run towards gates
			    		Attributes IgnoreFlag 			// having these will cause bots to run towards gates
    
			    		Item "Ghostly Gibus"
                        ItemAttributes
                        {
                            ItemName "Ghostly Gibus"
                            "custom item model" "models/player/items/all_class/gately_gibus_heavy.mdl"
                            "attachment name" "head"
                            "attachment scale" "1.04"
                            "attachment offset" "-2.2 0.45 -11.5"
                            "attachment angles" "0 0 6"
                        }
			    	}
			    	RevertGateBotsBehavior
			    	{
			    		Item "Ghostly Gibus"
			    	}
			    }
            }
        }
        WaveSpawn
        {
            Name "w3_a"
            Where spawnbot
            Where flankers
            TotalCount 16
            MaxActive 6
            SpawnCount 1
            WaitBeforeStarting 1
            WaitBetweenSpawns 5
            TotalCurrency 80
            RandomChoice
            {
            TFBot
            {
                Template JURBot_Sniper_Huntsman_Splitfire
            }
            TFBot
            {
                Template JURBot_Sniper_Huntsman_Splitfire
            }
            TFBot
            {
                Template JURBot_Sniper_Huntsman_Splitfire
            }
            TFBot
            {
                Template JURBot_Sniper_Huntsman_Splitfire
            }
            TFBot
            {
                Template JURBot_Sniper_Huntsman_Splitfire
            }
            TFBot
            {
                Template JURBot_Sniper_Huntsman_Splitfire
            }
            TFBot
            {
                Template JURBot_Sniper_Huntsman_Splitfire
            }
            TFBot
            {
                Template JURBot_Sniper_Huntsman_Splitfire
                Item "Point and Shoot"
				ItemAttributes
                {
					ItemName "Point and Shoot"
					"attach particle effect" 149
				}
                Tag spell_haste
				NoBombUpgrades 1 [$SIGSEGV]
                SuppressTimedFetchFlag 1 [$SIGSEGV]
                AddCond { Name TF_COND_KING_BUFFED }
                SpawnTemplate "spellbook_bot_init_flanker"
            }
            }
        }
        WaveSpawn
        {
            Name "w3_b"
            WaitForAllSpawned "w3_a"
            Where spawnbot
            TotalCount 4
            MaxActive 4
            SpawnCount 1
            WaitBeforeStarting 12
            WaitBetweenSpawns 6
        
            TotalCurrency 100
        
            TFBot
            { 
                Template T_TFBot_Giant_Pyro
                Skill Expert
                Attributes AlwaysCrit
                UseHumanModel 2
                CharacterAttributes
			    {
                    "voice pitch scale" 0
			    }
                NoIdleSound 1
                UseHumanModel 2
			    Item "Zombie Pyro"
            }
        }
        WaveSpawn
        {
            Name "w3_b"
            WaitForAllSpawned "w3_a"
            Where flankers
            TotalCount 24
            MaxActive 9
            SpawnCount 3
            WaitBeforeStarting 12
            WaitBetweenSpawns 4
        
            TotalCurrency 115
        
            TFBot
            { 
                Class Scout
			    Skill Hard
                WeaponRestrictions PrimaryOnly
			    Item "Crit-a-Cola"
			    ClassIcon scout_cola
                ItemAttributes
                {
                    ItemName "Crit-a-Cola"
                    "effect bar recharge rate increased" 0.35
                }
                CharacterAttributes
			    {
                    "voice pitch scale" 0.8
			    }
                UseHumanModel 2
			    Item "Zombie Scout"
                SpawnTemplate "gately_gibus_wearer"
                EventChangeAttributes
			    {
			    	Default
			    	{
			    		Tag bot_gatebot 				// having these will cause bots to run towards gates
			    		Tag nav_prefer_gate1_flank		// having these will cause bots to run towards gates
			    		BehaviorModifiers push			// having these will cause bots to run towards gates
			    		Attributes IgnoreFlag 			// having these will cause bots to run towards gates
			    		Item "Ghostly Gibus"
                        ItemAttributes
                        {
                            ItemName "Ghostly Gibus"
                            "custom item model" "models/player/items/all_class/gately_gibus_heavy.mdl"
                            "attachment name" "head"
                            "attachment offset" "-2.4 0.5 -10.3"
                            "attachment angles" "-4 0 7"
                        }
			    	}
                    
			    	RevertGateBotsBehavior
			    	{
			    		Item "Ghostly Gibus"
			    	}
			    }
            }
        }
        WaveSpawn
        { 
			Name "w3_b_tank"
            WaitForAllSpawned "w3_a"
			TotalCount 1
			TotalCurrency 250
            WaitBeforeStarting 12
			
			Tank 
            {
				Name "Tank"
				Health 30000
				StartingPathTrackNode "tank_path_1"
                SpawnTemplate "ghosttank"
                Model "models/bots/boss_bot/boss_tank_color.mdl"
				OnBombDroppedOutput
				{
					Target boss_deploy_relay
					Action Trigger
				}
			}
		}
        WaveSpawn
        {
            Name "w3_c"
            WaitForAllDead "w3_b"
            Where spawnbot
            TotalCount 12
            MaxActive 12
            SpawnCount 4
            WaitBeforeStarting 0
            WaitBetweenSpawns 14
        
            TotalCurrency 300
            Squad
            {
                TFBot
                { 
                    Template T_TFBot_Giant_Heavyweapons_Deflector
                    CharacterAttributes
			        {
                        "voice pitch scale" 0
			        }
                    NoIdleSound 1
                    UseHumanModel 2
			        Item "Zombie Heavy"
                }
                TFBot
                {
                    Template T_TFBot_Medic
                    CharacterAttributes
			        {
                        "voice pitch scale" 0.8
			        }
                    UseHumanModel 2
			        Item "Zombie Medic"
                }
                TFBot
                {
                    Template T_TFBot_Medic
                    CharacterAttributes
			        {
                        "voice pitch scale" 0.8
			        }
                    UseHumanModel 2
			        Item "Zombie Medic"
                    
                }
                TFBot
                {
                    Template T_TFBot_Medic
                    CharacterAttributes
			        {
                        "voice pitch scale" 0.8
			        }
                    UseHumanModel 2
			        Item "Zombie Medic"
                }
            }
        }
        WaveSpawn
        {
            Name "w3_c"
            WaitForAllDead "w3_b"
            Where spawnbot
            Where flankers
            TotalCount 18
            MaxActive 9
            SpawnCount 3
            WaitBeforeStarting 0
            WaitBetweenSpawns 3
            Support Limited
            TotalCurrency 130

            RandomChoice
            {
            TFBot
            { 
                Template JURBot_Soldier_BuffBanner
            }
            TFBot
            { 
                Template JURBot_Soldier_BuffBanner
            }
            TFBot
            { 
                Template JURBot_Soldier_BuffBanner
            }
            TFBot
            { 
                Template JURBot_Soldier_BuffBanner
            }
            TFBot
            { 
                Template JURBot_Soldier_BuffBanner
            }
            TFBot
            { 
                Template JURBot_Soldier_BuffBanner
            }
            TFBot
            { 
                Template JURBot_Soldier_BuffBanner
            }
            TFBot
            { 
                Template JURBot_Soldier_BuffBanner
            }
            TFBot
            { 
                Template JURBot_Soldier_BuffBanner
            }
            TFBot
            { 
                Template JURBot_Soldier_BuffBanner
                Item "Point and Shoot"
				ItemAttributes
                {
					ItemName "Point and Shoot"
					"attach particle effect" 147
				}
                Tag spell_regen
				NoBombUpgrades 1 [$SIGSEGV]
                SuppressTimedFetchFlag 1 [$SIGSEGV]
                AddCond { Name TF_COND_HALLOWEEN_QUICK_HEAL }
                SpawnTemplate "regen_particle_template"
                SpawnTemplate "spellbook_bot_init"
            }
            }
        }
        WaveSpawn 
        {
			Name "wave3_hellion"
			Where spawnbot_spell
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 30
			WaitBetweenSpawns 60
			Support 1

			TFBot
            {
    			Template JURBot_Spell_Skeleton_Three
                Tag spell_underworld
                NoBombUpgrades 1 [$SIGSEGV]
                SuppressTimedFetchFlag 1 [$SIGSEGV]
			}
		}
        WaveSpawn 
        {
			Name "wave3_hellion"
			Where spawnbot_underworld_main_sniper
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_Three
                SpawnTemplate "underworld_skeleton_main"
			}
		}
        WaveSpawn 
        {
			Name "wave3_hellion"
			Where spawnbot_underworld_main_3
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_Three
                SpawnTemplate "underworld_skeleton_main"
			}
		}
        WaveSpawn 
        {
			Name "wave3_hellion"
			Where spawnbot_underworld_loot_1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_Three
                SpawnTemplate "underworld_skeleton_loot"
			}
		}
        WaveSpawn 
        {
			Name "wave3_hellion"
			Where spawnbot_underworld_loot_2
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_Three
                SpawnTemplate "underworld_skeleton_loot"
			}
		}
    }
    Wave // Wave #4
    {
        StartWaveOutput
        {
            Target wave_start_ironman_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        
        WaveSpawn
        {
            Name "w4_a_gatebot"
            Where flankers
            TotalCount 5
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 10
            TotalCurrency 250
            RandomChoice
            {
            TFBot
            { 
                Template JURBot_Giant_Soldier_RocketShotgun
            }
            TFBot
            { 
                Template JURBot_Giant_Soldier_RocketShotgun
            }
            TFBot
            { 
                Template JURBot_Giant_Soldier_RocketShotgun
            }
            TFBot
            { 
                Template JURBot_Giant_Soldier_RocketShotgun
                Item "Point and Shoot"
				ItemAttributes
                {
					ItemName "Point and Shoot"
					"attach particle effect" 150
				}
                Tag spell_crits
				NoBombUpgrades 1 [$SIGSEGV]
                SuppressTimedFetchFlag 1 [$SIGSEGV]
                AddCond { Name TF_COND_CRITBOOSTED_USER_BUFF }
                SpawnTemplate "spellbook_bot_init_flanker"
            }
            }
        }
        WaveSpawn
        {
            Name "w4_a"
            Where spawnbot
            TotalCount 32
            MaxActive 10
            SpawnCount 4
            WaitBeforeStarting 1
            WaitBetweenSpawns 5
            TotalCurrency 240
            Squad
            {
                TFBot
                {
                    Class Spy
                    Name "Upgraded Munitions Spy"
                    Skill Expert
                    Health 650
                    Scale 1.35
                    AimTrackingInterval 0.05
                    Action FetchFlag
                    Item "Zombie Spy"
                    ClassIcon spy_revolver_atomic
                    ItemAttributes
                    {
                        ItemName "TF_WEAPON_REVOLVER"
                        "hand scale" 1.5
                        "override projectile type" 2
                        "fire rate penalty" 2
                        "faster reload rate" 1.4
                        "custom projectile model" "models/weapons/w_models/w_rocketbullet.mdl"
                        "projectile trail particle" "rockettrail_airstrike_line"
                        "no self blast dmg" 2
                        "centerfire projectile" 1
                        "projectile no deflect" 1
                    }
                    CharacterAttributes
			        {
			        	"move speed bonus"	0.85
                        "cannot disguise" 1
                        "voice pitch scale" 0.8
                        "damage force reduction" 0.4
	    		        "airblast vulnerability multiplier"	0.75
			        }
                }
                TFBot
                {
                    Template T_TFBot_Medic_Kritz
                    Item "Zombie Medic"
                }
            }
        }
        WaveSpawn
        {
            Name "w4_a_gatebot"
            Where flankers
            TotalCount 30
            MaxActive 8
            SpawnCount 4
            WaitBeforeStarting 1
            WaitBetweenSpawns 7
        
            TotalCurrency 120
            RandomChoice
            {
            TFBot
            { 
                Class Pyro
			    Skill Expert
			    WeaponRestrictions PrimaryOnly
                Item "Zombie Pyro"
                CharacterAttributes
                {
                    "voice pitch scale" 0.8
                }
                SpawnTemplate "gately_gibus_wearer"
                EventChangeAttributes
			    {
			    	Default
			    	{
			    		Tag bot_gatebot 				// having these will cause bots to run towards gates
			    		Tag nav_prefer_gate1_flank		// having these will cause bots to run towards gates
			    		BehaviorModifiers push			// having these will cause bots to run towards gates
			    		Attributes IgnoreFlag 			// having these will cause bots to run towards gates

                        Item "Ghostly Gibus"
                        ItemAttributes
                        {
                            ItemName "Ghostly Gibus"
                            "custom item model" "models/player/items/all_class/gately_gibus_heavy.mdl"
                            "attachment name" "head"
                            "attachment scale" "0.95"
                            "attachment offset" "1 0.2 -9.8"
                            "attachment angles" "-42 0 3"
                        }
			    		
                    }
			    	RevertGateBotsBehavior
			    	{
			    		Item "Ghostly Gibus"
			    	}
			    }
            }
            TFBot
            { 
                Template T_TFBot_Pyro_Flaregun
                ClassIcon pyro
			    Item "Zombie Pyro"
                CharacterAttributes
                {
                    "voice pitch scale" 0.8
                }
                SpawnTemplate "gately_gibus_wearer"
                EventChangeAttributes
			    {
			    	Default
			    	{
			    		Tag bot_gatebot 				// having these will cause bots to run towards gates
			    		Tag nav_prefer_gate1_flank		// having these will cause bots to run towards gates
			    		BehaviorModifiers push			// having these will cause bots to run towards gates
			    		Attributes IgnoreFlag 			// having these will cause bots to run towards gates

                        Item "Ghostly Gibus"
                        ItemAttributes
                        {
                            ItemName "Ghostly Gibus"
                            "custom item model" "models/player/items/all_class/gately_gibus_heavy.mdl"
                            "attachment name" "head"
                            "attachment scale" "0.95"
                            "attachment offset" "1 0.2 -9.8"
                            "attachment angles" "-42 0 3"
                        }
			    		
                    }
			    	RevertGateBotsBehavior
			    	{
			    		Item "Ghostly Gibus"
			    	}
			    }
            }
            }
        }
        WaveSpawn
		{
			Name "w4_skeles"
            WaitForAllSpawned "w4_b_tank"
			Where flankers
			TotalCount 15
			MaxActive 15
			SpawnCount 3
			WaitBeforeStarting 20
			WaitBetweenSpawns 5
			Support 1
			HalloweenBoss [$SIGSEGV] // HalloweenBoss spawner. Spawns a boss
			{
				FastUpdate 1 // Should do updates every tick (Default: 0)
				BossType SkeletonNormal // Boss type: MONOCULUS, Merasmus, HHH, SkeletonSmall, SkeletonNormal, SkeletonKing. Skeletons default limit is 30 active at once unless modified by MaxActiveSkeletons
				TeamNum 3 // Team number for Monoculus (2 - red, 3 - blu, 5 - neutral) (Default: 5)
				Health 100 // Boss health, 0 means default health (Default: 0)
                Lifetime 20
				//Origin "-2099 -1686 428" // If set, spawns boss at the specified position rather than at where location
                Origin "0 0 0"
                Skin 2
				SpreadRadius "250 250 50" // Randomly spreads halloween boss in x y z coordinates
				//StickToGround 6000 // Stick spawned boss to ground, as long as its up to x units above the ground
				SpawnAtEntity "tankboss_skele" // If set, spawns boss at the entity location instead of where location
			}
		}
        WaveSpawn
        { 
			Name "w4_b_tank"
            WaitForAllDead "w4_a"
			TotalCount 1
			TotalCurrency 150
			
			Tank 
            {
				Name "tankboss_skele"
                ClassIcon tank_skeleton
				Health 30000
				StartingPathTrackNode "tank_path_1"
                DisableSmokestack 1 
                SpawnTemplate "skeletank"
                Model "models/bots/boss_bot/boss_tank_color.mdl"
				OnBombDroppedOutput
				{
					Target boss_deploy_relay
					Action Trigger
				}
			}
		}
        WaveSpawn
        {
            Name "w4_b"
            WaitForAllDead "w4_a"
            Where flankers
            TotalCount 3
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 20
        
            TotalCurrency 150
        
            TFBot
            { 
                Template T_TFBot_Giant_Scout_Baseball
                NoIdleSound 1
                UseHumanModel 2
			    Item "Zombie Scout"
                CharacterAttributes
                {
                    "voice pitch scale" 0
                }
            }
        } 
        WaveSpawn
        {
            Name "w4_b"
            WaitForAllDead "w4_a"
            Where flankers
            TotalCount 24
            MaxActive 10
            SpawnCount 5
            WaitBeforeStarting 8
            WaitBetweenSpawns 6
            TotalCurrency 50
            TFBot
            { 
                Class Demoman
			    Name "Bumperknight"
			    ClassIcon demoknight
			    Skill Hard
                Item "Backbreaker's Guards"
			    Item "The Chargin' Targe"
			    Item "The Eyelander"
			    WeaponRestrictions MeleeOnly
			    ItemAttributes
			    {
			    	ItemName "The Eyelander"
			    	"critboost on kill" 3
			    }
	
                NoIdleSound 1
                UseHumanModel 2
			    Item "Zombie Demo"
                CharacterAttributes
                {
                    "voice pitch scale" 0.8
                }
                SpawnTemplate "bumpercar_logic"
            }   
        }
        WaveSpawn
        {
            Name "w4_b"
            WaitForAllDead "w4_a"
            Where spawnbot
            TotalCount 6
            MaxActive 4
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 8
            TotalCurrency 200
        
            TFBot
            { 
                Template T_TFBot_Giant_Pyro_ComboFlare
                CharacterAttributes
                {
                    "voice pitch scale" 0
                }
                SpawnTemplate "powerup_logic_hastebuff_recipient"
            }
        }
        WaveSpawn
        {
            Name "w4_c"
            WaitForAllDead "w4_b"
            Where flankers
            TotalCount 4
            MaxActive 4
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 12
        
            TotalCurrency 200
            TFBot
            {
                Template JURBot_Giant_Soldier_Critbuff
            }
        }
        WaveSpawn
        {
            Name "w4_c"
            WaitForAllDead "w4_b"
            Where spawnbot
            TotalCount 5
            MaxActive 4
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 12
        
            TotalCurrency 120
            TFBot
            {
                Name "Giant Crusader Medic"
			    Class Medic
			    ClassIcon medic_crossbow
			    Skill Expert
			    Health 4500
			    Attributes MiniBoss
                Action FetchFlag
			    WeaponRestrictions PrimaryOnly
			    Item "The Crusader's Crossbow"
			    Item "Berliner's Bucket Helm"
                //Attributes HoldFireUntilFullReload
			    ItemAttributes
			    {
			    	ItemName "The Crusader's Crossbow"
                    "auto fires full clip" 1
				    "auto fires when full" 1
                    "faster reload rate" 0.5
                    "fire rate penalty" 1.5
			    	"clip size upgrade atomic" 3
			    }
			    CharacterAttributes
			    {
			    	"move speed bonus"	0.5
			    	"damage force reduction" 0.6
			    	"airblast vulnerability multiplier" 0.6
			    }
                CharacterAttributes
			    {
                    "voice pitch scale" 0
			    }
                NoIdleSound 1
                Item "Zombie Medic"	
                SpawnTemplate "powerup_logic_hastebuff_recipient"
                SpawnTemplate "powerup_logic_critbuff_recipient"
            }
        }
        WaveSpawn
        {
            Name "w4_c"
            WaitForAllDead "w4_b"
            Where flankers
            TotalCount 16
            MaxActive 6
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 4
        
            TotalCurrency 60
            Support Limited
            RandomChoice
            {
            TFBot
            {
                Template JURBot_Soldier_Hastebuff
                SpawnTemplate "powerup_logic_critbuff_recipient"
            }
            TFBot
            {
                Template JURBot_Soldier_Hastebuff
                SpawnTemplate "powerup_logic_critbuff_recipient"
            }
            TFBot
            {
                Template JURBot_Soldier_Hastebuff
                SpawnTemplate "powerup_logic_critbuff_recipient"
            }
            TFBot
            {
                Template JURBot_Soldier_Hastebuff
                SpawnTemplate "powerup_logic_critbuff_recipient"
            }
            TFBot
            {
                Template JURBot_Soldier_Hastebuff
                SpawnTemplate "powerup_logic_critbuff_recipient"
            }
            TFBot
            {
                Template JURBot_Soldier_Hastebuff
                SpawnTemplate "powerup_logic_critbuff_recipient"
            }
            TFBot
            {
                Template JURBot_Soldier_Hastebuff
                SpawnTemplate "powerup_logic_critbuff_recipient"
            }
            TFBot
            {
                Template JURBot_Soldier_Hastebuff
                Item "Point and Shoot"
				ItemAttributes
                {
					ItemName "Point and Shoot"
					"attach particle effect" 150
				}
                Tag spell_crits
				NoBombUpgrades 1 [$SIGSEGV]
                SuppressTimedFetchFlag 1 [$SIGSEGV]
                AddCond { Name TF_COND_CRITBOOSTED_USER_BUFF }
                SpawnTemplate "spellbook_bot_init"
                SpawnTemplate "powerup_logic_critbuff_recipient"
            }
            }
        }
        WaveSpawn
        {
            Name "w4_c"
            WaitForAllDead "w4_b"
            Where flankers
            TotalCount 16
            MaxActive 6
            SpawnCount 2
            WaitBeforeStarting 0
            WaitBetweenSpawns 4
        
            TotalCurrency 60
            Support Limited
            RandomChoice
            {
            TFBot
            {
                Template JURBot_Demo_Quickie_Burst
                SpawnTemplate "powerup_logic_hastebuff_recipient"
                SpawnTemplate "powerup_logic_critbuff_recipient"
            }
            TFBot
            {
                Template JURBot_Demo_Quickie_Burst
                SpawnTemplate "powerup_logic_hastebuff_recipient"
                SpawnTemplate "powerup_logic_critbuff_recipient"
            }
            TFBot
            {
                Template JURBot_Demo_Quickie_Burst
                SpawnTemplate "powerup_logic_hastebuff_recipient"
                SpawnTemplate "powerup_logic_critbuff_recipient"
            }
            TFBot
            {
                Template JURBot_Demo_Quickie_Burst
                SpawnTemplate "powerup_logic_hastebuff_recipient"
                SpawnTemplate "powerup_logic_critbuff_recipient"
            }
            TFBot
            {
                Template JURBot_Demo_Quickie_Burst
                SpawnTemplate "powerup_logic_hastebuff_recipient"
                SpawnTemplate "powerup_logic_critbuff_recipient"
            }
            TFBot
            {
                Template JURBot_Demo_Quickie_Burst
                SpawnTemplate "powerup_logic_hastebuff_recipient"
                SpawnTemplate "powerup_logic_critbuff_recipient"
            }
            TFBot
            {
                Template JURBot_Demo_Quickie_Burst
                SpawnTemplate "powerup_logic_hastebuff_recipient"
                SpawnTemplate "powerup_logic_critbuff_recipient"
            }
            TFBot
            {
                Template JURBot_Demo_Quickie_Burst
                Item "Point and Shoot"
				ItemAttributes
                {
					ItemName "Point and Shoot"
					"attach particle effect" 147
				}
                Tag spell_regen
				NoBombUpgrades 1 [$SIGSEGV]
                SuppressTimedFetchFlag 1 [$SIGSEGV]
                AddCond { Name TF_COND_HALLOWEEN_QUICK_HEAL }
                SpawnTemplate "regen_particle_template"
                SpawnTemplate "spellbook_bot_init_flanker"
                SpawnTemplate "powerup_logic_hastebuff_recipient"
                SpawnTemplate "powerup_logic_critbuff_recipient"
            }
            }
        }
        WaveSpawn 
        {
			Name "wave4_hellion"
			Where spawnbot_spell
			MaxActive 1
			SpawnCount 1
			//WaitBeforeStarting 30
			WaitBetweenSpawns 60
			Support 1

			TFBot
            {
    			Template JURBot_Spell_Skeleton_Four
                Tag spell_underworld
                NoBombUpgrades 1 [$SIGSEGV]
                SuppressTimedFetchFlag 1 [$SIGSEGV]
                SpawnTemplate "powerup_logic_hastebuff_recipient"
                SpawnTemplate "powerup_logic_critbuff_recipient"
			}
		}
        WaveSpawn 
        {
			Name "wave4_hellion"
			Where spawnbot_underworld_main_sniper
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_Four
                SpawnTemplate "underworld_skeleton_main"
			}
		}
        WaveSpawn 
        {
			Name "wave4_hellion"
			Where spawnbot_underworld_main_3
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_Four
                SpawnTemplate "underworld_skeleton_main"
			}
		}
        WaveSpawn 
        {
			Name "wave4_hellion"
			Where spawnbot_underworld_loot_1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_Four
                SpawnTemplate "underworld_skeleton_loot"
			}
		}
        WaveSpawn 
        {
			Name "wave4_hellion"
			Where spawnbot_underworld_loot_2
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_Four
                SpawnTemplate "underworld_skeleton_loot"
			}
		}
    }
    Wave // Wave #5
    {
        SpawnTemplate "crystalcapture"
        SpawnTemplate "finale_logic"
        PlayerAttributes
        {
            "damage force increase hidden" 0.1
        }
        Explanation
        {
            Line "{FFC144}Something {B266FF}seeks to draw you in to the underworld."
            Line "{B266FF}Allow yourself to be conveyed {B266FF}and you'll have the opportunity to take down one of hell's {FFC144}most prominent lieutenants."
            Line "{B266FF}But be wary, there's {999900}something in the air {B266FF}down there. If you take too long to kill the brute, you'll become {red}one of them."
        }
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        InitWaveOutput
        {
            Target brushbug_check
            Action Enable
        }
        WaveSpawn // Dummy
        {
            DoneOutput
            {
                Target brushbug_finale_relay
                Action Trigger
            }
        }
        WaveSpawn // Dummy
        {
            WaitBeforeStarting 0.1
            DoneOutput
            {
                Target underworld_loot_relay
                Action Trigger
            }
        }
        WaveSpawn
        {
            Name "timer"
            Where spawnbot_timer
            TotalCount 1
            SpawnCount 1
            Support Limited

            RandomChoice
            {
                Squad
                {
                    TFBot
                    {
                        Class Scout
                        ClassIcon timer_lite
                        Attributes SuppressFire
                        Attributes IgnoreFlag
                        Scale 0.01
                        Health 268
                        Attributes UseBossHealthBar
                        FireInput [$SIGSEGV] 
			            {
			            	Target "!activator" //Entity name to use
			            	Action "$TakeDamage" //Input to fire
			            	Param "1" //Parameter to use
			            	Delay 1 //Delay before firing the input
			            	Cooldown 1 //Cooldown between firing the input
			            	Repeats 0 //How many times should the input be fired
			            }
                        CharacterAttributes
                        {
                            "dmg taken from blast reduced" 0
                            "dmg taken from bullets reduced" 0
                            "dmg taken from fire reduced" 0
                            "dmg taken from crit reduced" 0
                            "dmg from ranged reduced" 0
                            "move speed penalty" 0.001
                            "cancel falling damage" 1
                            "increased jump height" 0.1
                            "no_jump" 1
                            //"health regen" -1
                        }
                    }
                }
            }
        }
        WaveSpawn
		{
			Name sixtysecs
			Support 1
			FirstSpawnWarningSound "vo/announcer_ends_60sec.mp3"
			
			WaitBeforeStarting 240
		}
		
		WaveSpawn
		{
			Name thirtysecs
			Support 1
			FirstSpawnWarningSound "vo/announcer_ends_30sec.mp3"
			
			WaitBeforeStarting 270
		}
		
		WaveSpawn
		{
			Name tensecs
			Support 1
			FirstSpawnWarningSound "vo/announcer_ends_10sec.mp3"
			
			WaitBeforeStarting 290
		}
        WaveSpawn //4:20 + time until wave really starts
		{
			Name "endwave"
			Support 1
			
			WaitBeforeStarting 301
			
			FirstSpawnOutput
			{
				Target bots_win_relay
				Action Trigger
			}
            DoneOutput
            {
                Target finale_music_end_relay
                Action Trigger
            }
		}
        WaveSpawn //4:20 + time until wave really starts
		{
			Name "endwave_skele"
			Support 1
			
			WaitBeforeStarting 300.5
			
			FirstSpawnOutput
			{
				Target redbecomeskeleton_relay
				Action Trigger
			}
            DoneOutput
            {
                Target spectralgun_roundend_fix
                Action Trigger
            }
		}

        WaveSpawn 
        {
			Name "wave4_hellion"
			Where spawnbot_underworld_main_sniper
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 10
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_Four
			}
		}
        WaveSpawn 
        {
			Name "wave4_hellion"
			Where spawnbot_underworld_main_1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 10
			Support 1
            RandomChoice
            {
			    TFBot
                {
    		    	Template JURBot_Hell_Skeleton_Two
			    }
			    TFBot
                {
    		    	Template JURBot_Hell_Skeleton_Three
			    }
            }
		}
        
        WaveSpawn 
        {
			Name "wave4_hellion"
			Where spawnbot_underworld_main_2
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 10
			Support 1

            RandomChoice
            {
			    TFBot
                {
    		    	Template JURBot_Hell_Skeleton_Two
			    }
			    TFBot
                {
    		    	Template JURBot_Hell_Skeleton_Three
			    }
            }
		}
        WaveSpawn 
        {
			Name "wave4_hellion"
			Where spawnbot_underworld_main_3
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 10
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_Four
			}
		}
        WaveSpawn 
        {
			Name "wave4_hellion"
			Where spawnbot_underworld_loot_1
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 10
			Support 1
            RandomChoice
            {
			    TFBot
                {
    		    	Template JURBot_Hell_Skeleton_Two
			    }
			    TFBot
                {
    		    	Template JURBot_Hell_Skeleton_Three
			    }
            }
		}
        WaveSpawn 
        {
			Name "wave4_hellion"
			Where spawnbot_underworld_loot_2
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 10
			Support 1
            RandomChoice
            {
			    TFBot
                {
    		    	Template JURBot_Hell_Skeleton_Two
			    }
			    TFBot
                {
    		    	Template JURBot_Hell_Skeleton_Three
			    }
            }
		}
        WaveSpawn 
        {
			Name "wave4_hellion"
			Where spawnbot_underworld_loot_3
			MaxActive 1
			SpawnCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 10
			Support 1

			TFBot
            {
    			Template JURBot_Hell_Skeleton_Four
			}
		}
        WaveSpawn
        {
            Name "colossus"
            Where spawnbot_colossus
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 2
            WaitBetweenSpawns 1

            TFBot
            {
                Template JURBot_Colossus
            }
        }
        WaveSpawn // Dummy
        {
            WaitForAllDead "colossus"
            WaitBeforeStarting 0.01
        
            FirstSpawnOutput
            {
                Target colossus_death_relay
                Action Trigger
            }
        }
        WaveSpawn // Dummy
        {
            WaitForAllDead "colossus"
            WaitBeforeStarting 6
        }
    }
    ExtraSpawnPoint
    {
        Name "spawnbot_hatadjust"
        TeamNum 3
        X "3336"
        Y "-4125"
        Z "646"
    }
    ExtraSpawnPoint
    {
        Name "spawnbot_test"
        TeamNum 3
        X "-1452"
        Y "-1475"
        Z "345"
    }
    ExtraSpawnPoint
    {
        Name "spawnbot_timer"
        StartDisabled 1
        TeamNum 3
        X "-1452"
        Y "-1475"
        Z "345"
    }
    ExtraSpawnPoint
    {
        Name "spawnbot_underworld_main_sniper"
        StartDisabled 1
        TeamNum 3
        X "973"
        Y "-551"
        Z "-9579"
    }
    ExtraSpawnPoint
    {
        Name "spawnbot_underworld_main_3"
        StartDisabled 1
        TeamNum 3
        X "-354"
        Y "-470"
        Z "-9951"
    }
    ExtraSpawnPoint
    {
        Name "spawnbot_underworld_main_2"
        StartDisabled 1
        TeamNum 3
        X "882"
        Y "-374"
        Z "-9931"
    }
    ExtraSpawnPoint
    {
        Name "spawnbot_underworld_main_1"
        StartDisabled 1
        TeamNum 3
        X "640"
        Y "-2176"
        Z "-10314"
    }
    ExtraSpawnPoint
    {
        Name "spawnbot_underworld_loot_1"
        StartDisabled 1
        TeamNum 3
        X "-72"
        Y "4194"
        Z "-10259"
    }
    ExtraSpawnPoint
    {
        Name "spawnbot_underworld_loot_2"
        StartDisabled 1
        TeamNum 3
        X "51"
        Y "5625"
        Z "-9854"
    }
    ExtraSpawnPoint
    {
        Name "spawnbot_underworld_loot_3"
        StartDisabled 1
        TeamNum 3
        X "602"
        Y "5970"
        Z "-10270"
    }
    ExtraSpawnPoint
    {
        Name "spawnbot_colossus"
        StartDisabled 1
        TeamNum 3
        X "219"
        Y "1632"
        Z "-10312"
    }
    Templates 
    {
        JURBot_Giant_Soldier_RocketShotgun
        {
            Class Soldier
			ClassIcon soldier_blackbox_giant
			Name "Giant Black Box Soldier"
			Health 4200

			Item "The Black Box"
			Skill Expert
			Attributes MiniBoss
			WeaponRestrictions PrimaryOnly
			Attributes HoldFireUntilFullReload
			ItemAttributes
			{
				ItemName "The Black Box"
				"damage bonus" 0.45
				"fire rate bonus" 0.001
				"clip size upgrade atomic" 0
				"faster reload rate" 1.6
				"blast radius increased" 1.25
				//"Projectile speed increased" 0.4
				"projectile spread angle penalty" 4
				"heal on hit for rapidfire" 1000
			}
			CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction" 0.4
				"airblast vulnerability multiplier" 0.4
				"override footstep sound set" 3
				"Projectile speed increased" 0.9
                "voice pitch scale" 0
			}
            NoIdleSound 1
            UseHumanModel 2
		    Item "Zombie Soldier"
        }
        T_TFBot_Medic_Kritz
		{
			Name "Kritzkrieg Medic"
			Class Medic
			Skill Expert
			ClassIcon medic_kritz
			Attributes SpawnWithFullCharge
			Item "The Kritzkrieg"
			ItemAttributes
			{
				ItemName "The Kritzkrieg"
				"ubercharge rate bonus"	999
				"uber duration bonus" 999
			}
			CharacterAttributes
			{
				"bot medic uber health threshold" 500
			}
		}
        JURBot_Colossus
        {
            Class Sniper
            Name "Colossus"
            ClassIcon sniper_bow_multi
			Item "The Huntsman"
			Skill Expert
			Health 160000
			Scale 15
			ExtAttr IgnoreBuildings
			Attributes UseBossHealthBar
			Attributes MiniBoss
            Attributes SuppressFire
            StripItemSlot 2
            Action Mobber
            Attributes IgnoreFlag
            NoCrouchButtonRelease 1
            Tag bot_colossus
            WeaponResist   //Multiplies damage received from weapons listed below
            {
                "tf_weapon_revolver" 3

                "tf_weapon_syringegun_medic" 3
                "tf_weapon_crossbow" 3
            }
            ItemAttributes
            {
                ItemName "TF_WEAPON_SMG"
                "override projectile type" 2
                "clip size upgrade atomic" 10
                "damage bonus" 15
                "no damage falloff" 1
                "custom projectile model" "models/weapons/w_models/w_rocketbullet.mdl"
                "projectile trail particle" "rockettrail_airstrike_line"
                "no self blast dmg" 2
                "centerfire projectile" 1
                "projectile no deflect" 1
            }
			CharacterAttributes
			{
				"not solid to players" 1
				"no_jump" 1
				"no_duck" 1
				"damage force reduction" 0
				"airblast vulnerability multiplier" 0
				"airblast vertical vulnerability multiplier" 0
				"override footstep sound set" 7
				"cancel falling damage" 1
                "always allow taunt" 1
                "voice pitch scale" 0.7
			}
            FireInput 
            {
                Target "randomattack"
                Action "PickRandomShuffle"
                Delay 8
                Cooldown 2.96
                Repeats 0
            } 
            FireInput 
            {
                Target "choose_colossus_location"
                Action "PickRandom"
                Delay 45
                Cooldown 30
                Repeats 0
            } 
            FireWeapon [$SIGSEGV]  //Periodically fires weapon
            {
                Delay 8 //Time before the first fire input starts (Default: 10)
                Cooldown 3 //Time between each fire input (Default: 10)
                Repeats 0 //How many times should bot use the fire input in total (Default: 0 - Infinite)
                Duration 1 //How long should the button be pressed (Default: 0.1)
				Type "Primary" // Type of fire input - requires NoCrouchButtonRelease 1 in TFBot
			}
            Taunt
            {
                Delay 1
                Repeats 1
                Duration 6.5
                Name "I See You Taunt"
            }
            ShootTemplate
	        {
	        	Name Explosive_Tip
	        	AttachToProjectile 1 
	        	ItemName "The Huntsman"
	        }
            FireInput [$SIGSEGV] 
			{
				Target "!activator" //Entity name to use
				Action "$ChangeAttributes" //Input to fire
				Param "StageTwo" //Parameter to use
				Delay 0 //Delay before firing the input
				Cooldown 1 //Cooldown between firing the input
				Repeats 1 //How many times should the input be fired
				IfHealthBelow 120000 //When set, the task activates only when the bot health is below specified value
			}
            FireInput [$SIGSEGV] 
			{
				Target "!activator" //Entity name to use
				Action "$ChangeAttributes" //Input to fire
				Param "StageThree" //Parameter to use
				Delay 0 //Delay before firing the input
				Cooldown 1 //Cooldown between firing the input
				Repeats 1 //How many times should the input be fired
				IfHealthBelow 80000 //When set, the task activates only when the bot health is below specified value
			}
            FireInput [$SIGSEGV] 
			{
				Target "!activator" //Entity name to use
				Action "$ChangeAttributes" //Input to fire
				Param "StageFour" //Parameter to use
				Delay 0 //Delay before firing the input
				Cooldown 1 //Cooldown between firing the input
				Repeats 1 //How many times should the input be fired
				IfHealthBelow 40000 //When set, the task activates only when the bot health is below specified value
			}
            EventChangeAttributes
            {
                StageOne
                {

                }
                StageTwo
                {
                    Item "The Spooky Sleeves"
                    ItemModel			 
			        {
			        	ItemName    "The Spooky Sleeves"
			        	Model models/bots/skeleton_sniper/skeleton_sniper_fixed.mdl
			        }
                }
                StageThree
                {
                    //ItemModel			 
			        //{
			        //	ItemName    "Final Frontiersman"
			        //	Model models/empty.mdl
			        //}
                    ItemModel			 
			        {
			        	ItemName    "The Golden Garment"
			        	Model models/empty.mdl
			        }
                    ItemModel			 
			        {
			        	ItemName    "Zombie Sniper"
			        	Model models/empty.mdl
			        }
                    UseCustomModel models/bots/skeleton_sniper/skeleton_sniper_fixed.mdl [$SIGSEGV]
                    Skin 1
                }
                StageFour
                {
                    ItemModel			 
			        {
			        	ItemName    "Final Frontiersman"
			        	Model models/empty.mdl
			        }
                    ItemModel			 
			        {
			        	ItemName    "The Golden Garment"
			        	Model models/empty.mdl
			        }
                    ItemModel			 
			        {
			        	ItemName    "Zombie Sniper"
			        	Model models/empty.mdl
			        }
                    //ItemModel			 
			        //{
			        //	ItemName    "The Triggerman's Tacticals"
			        //	Model models/empty.mdl
			        //}
                    UseCustomModel models/bots/skeleton_sniper/skeleton_sniper_fixed.mdl [$SIGSEGV]
                    Skin 4
                }
            }
            NoIdleSound 1
            Item "Zombie Sniper"
            Item "The Golden Garment"
            Item "The Triggerman's Tacticals"
            Item "The Snaggletoothed Stetson"
            Item "Final Frontiersman"
            SpawnTemplate "colossus_template"
        }
        T_TFBot_Giant_Pyro_ComboFlare //courtesy of royal
        {
            Name "Giant Combo Pyro"
            Class Pyro

            Health 3000

            ClassIcon pyro_degreaser_flare

            Item "The Degreaser"
            Item "The Flare Gun"
            Item "Pyromancer's Mask"
            Item "Zombie Pyro"

            NoIdleSound 1

            Skill Expert
            Attributes MiniBoss
            MaxVisionRange 1200

            ItemAttributes
            {
                ItemName "The Degreaser"
                "fire input on hit" "combo_primary_to_secondary_longhold^Trigger^"
                "damage penalty" 0.1
            }

            ItemAttributes
            {
                ItemName "The Flare Gun"
                "faster reload rate" 0.2
            }  

	        CharacterAttributes
	        {
                "move speed bonus" 0.6
	    		"damage force reduction" 0.6
	    		"airblast vulnerability multiplier"	0.6
	    		"override footstep sound set"	6
	    	}
        }
        JURBot_Spell_Skeleton_One
        {
            Class Sniper
            Classicon dead_purple_lite
            Name "Hellion"
            Scale 1.35
            Health 650
            StripItemSlot 0
            StripItemSlot 1
            WeaponRestrictions MeleeOnly
            Item "Final Frontiersman"
            CharacterAttributes
			{
                "voice pitch scale" 0
                "attach particle effect" 3014
                "damage force reduction" 0.75
	    		"airblast vulnerability multiplier"	0.75
			}
            CustomWeaponModel
            {
                Slot 2
                Model "models/empty.mdl"
            }
            Skin 4
            UseCustomModel models/bots/skeleton_sniper/skeleton_sniper_fixed.mdl [$SIGSEGV]
        }
        JURBot_Spell_Skeleton_Two
        {
            Class Sniper
            Classicon dead_purple_lite
            Name "Hellion"
            Health 1200
			Scale 1.5
            StripItemSlot 0
            StripItemSlot 1
            WeaponRestrictions MeleeOnly
            Attributes AlwaysCrit
            Item "Final Frontiersman"
            CharacterAttributes
			{
                "voice pitch scale" 0
                "attach particle effect" 3014
                "damage force reduction" 0.4
	    		"airblast vulnerability multiplier"	0.75
			}
            CustomWeaponModel
            {
                Slot 2
                Model "models/empty.mdl"
            }
            Skin 4
            UseCustomModel models/bots/skeleton_sniper/skeleton_sniper_fixed.mdl [$SIGSEGV]
        }
        JURBot_Spell_Skeleton_Three
        {
            Class Sniper
            Classicon dead_purple_lite
            Name "Hellion"
			Skill Hard
			Health 1200
			Scale 1.5
            StripItemSlot 1
            StripItemSlot 2
            Item "The Huntsman"
            Item "Final Frontiersman"
            ItemAttributes
            {
                ItemName "The Huntsman"
                "damage bonus" 0.5
            }
			CharacterAttributes
			{
				"move speed bonus"	0.85
                "voice pitch scale" 0
                "attach particle effect" 3014
                "damage force reduction" 0.4
	    		"airblast vulnerability multiplier"	0.75
			}
            CustomWeaponModel
            {
                Slot 2
                Model "models/empty.mdl"
            }
            Skin 4
            UseCustomModel models/bots/skeleton_sniper/skeleton_sniper_fixed.mdl [$SIGSEGV]
        }
        JURBot_Spell_Skeleton_Four
        {
            Class Sniper
            Classicon dead_purple_lite
            Name "Hellion"
			Skill Hard
			Health 1200
			Scale 1.5
            StripItemSlot 1
            StripItemSlot 2
			Item "The Huntsman"
            Item "Final Frontiersman"
			ItemAttributes
			{
				ItemName "The Huntsman"
                "damage bonus" 0.5
                "mult projectile count" 3
				"projectile spread angle penalty" 4
			}
			CharacterAttributes
			{
			    "move speed bonus"	0.85
                "voice pitch scale" 0
                "damage force reduction" 0.4
	    		"airblast vulnerability multiplier"	0.75
                "attach particle effect" 3014
			}
            CustomWeaponModel
            {
                Slot 2
                Model "models/empty.mdl"
            }
            Skin 4
            UseCustomModel models/bots/skeleton_sniper/skeleton_sniper_fixed.mdl [$SIGSEGV]
        }
        JURBot_Hell_Skeleton_One
        {
            Class Sniper
            Classicon dead_purple_lite
            Name "Hellion"
            StripItemSlot 0
            StripItemSlot 1
            WeaponRestrictions MeleeOnly
            Action Mobber
            Item "Final Frontiersman"
            CharacterAttributes
			{
                "move speed bonus" 0.7
                "voice pitch scale" 0
                "no_jump" 1
                "not solid to players" 1
                //"attach particle effect" 3013
			}
            CustomWeaponModel
            {
                Slot 2
                Model "models/empty.mdl"
            }
            Skin 4
            UseCustomModel models/bots/skeleton_sniper/skeleton_sniper_fixed.mdl [$SIGSEGV]
            SpawnTemplate "hellspawn_particle_template"
        }
        JURBot_Hell_Skeleton_Two
        {
            Class Sniper
            Classicon dead_purple_lite
            Name "Hellion"
            StripItemSlot 0
            StripItemSlot 1
            WeaponRestrictions MeleeOnly
            Action Mobber
            Attributes AlwaysCrit
            Item "Final Frontiersman"
            CharacterAttributes
			{
                "move speed bonus" 0.7
                "voice pitch scale" 0
                "no_jump" 1
                "not solid to players" 1
                //"attach particle effect" 3013
			}
            CustomWeaponModel
            {
                Slot 2
                Model "models/empty.mdl"
            }
            Skin 4
            UseCustomModel models/bots/skeleton_sniper/skeleton_sniper_fixed.mdl [$SIGSEGV]
            SpawnTemplate "hellspawn_particle_template"
        }
        JURBot_Hell_Skeleton_Three
        {
            Class Sniper
            Classicon dead_purple_lite
            Name "Hellion"
			Skill Hard
            Action Mobber
            StripItemSlot 1
            StripItemSlot 2
            Item "The Huntsman"
            Item "Final Frontiersman"
            ItemAttributes
            {
                ItemName "The Huntsman"
                "damage bonus" 0.5
            }
			CharacterAttributes
			{
                "move speed bonus" 0.7
                "voice pitch scale" 0
                "no_jump" 1
                "not solid to players" 1
                //"attach particle effect" 3013
			}
            CustomWeaponModel
            {
                Slot 2
                Model "models/empty.mdl"
            }
            Skin 4
            UseCustomModel models/bots/skeleton_sniper/skeleton_sniper_fixed.mdl [$SIGSEGV]
            SpawnTemplate "hellspawn_particle_template"
        }
        JURBot_Hell_Skeleton_Four
        {
            Class Sniper
            Classicon dead_purple_lite
            Name "Hellion"
			Skill Hard
            Action Mobber
            StripItemSlot 1
            StripItemSlot 2
			Item "The Huntsman"
            Item "Final Frontiersman"
			ItemAttributes
			{
				ItemName "The Huntsman"
                "damage bonus" 0.5
                "mult projectile count" 3
				"projectile spread angle penalty" 4
			}
			CharacterAttributes
			{
                "move speed bonus" 0.7
                "voice pitch scale" 0
                "no_jump" 1
                "not solid to players" 1
                //"attach particle effect" 3013
			}
            CustomWeaponModel
            {
                Slot 2
                Model "models/empty.mdl"
            }
            Skin 4
            UseCustomModel models/bots/skeleton_sniper/skeleton_sniper_fixed.mdl [$SIGSEGV]
            SpawnTemplate "hellspawn_particle_template"
        }
        JURBot_Demo_Quickie_Burst
        {
            Class Demoman
			Name "Burstfire Quickiebomb Demo"
			ClassIcon demo_sticky_daan
			MaxVisionRange 1024
			Skill Normal
			WeaponRestrictions SecondaryOnly
			Attributes HoldFireUntilFullReload
            Item "The Quickiebomb Launcher"
			ItemAttributes 
            {
				ItemName "The Quickiebomb Launcher"
				"sticky arm time bonus" 0.01
				"stickybomb charge rate" 0.01
				"projectile spread angle penalty" 3
                "clip size penalty" 0.375
				"fire rate bonus" 0.001
				"max pipebombs decreased" -5
			}
            Item "Zombie Demo"
        }
        JURBot_Soldier_BuffBanner
        {
            Class Soldier
			Name "Extended Buff Soldier"
			Skill Normal
			ClassIcon soldier_buff
			Attributes SpawnWithFullCharge
			Item "The Buff Banner"
			CharacterAttributes
			{
				"increase buff duration"	9.0
			}
            CharacterAttributes
			{
                "voice pitch scale" 0.8
			}
            UseHumanModel 2
			Item "Zombie Soldier"
        }
        JURBot_Sniper_Huntsman_Splitfire
        {
            Class Sniper
			Name "Splitfire Bowman"
			Item "The Huntsman"
			ClassIcon sniper_bow_multi
			Skill Hard
			Health 1200
			Scale 1.5
			ItemAttributes
			{
				ItemName "The Huntsman"
                "mult projectile count" 3
				"projectile spread angle penalty" 4
			}
			CharacterAttributes
			{
				"move speed bonus"	0.85
                "voice pitch scale" 0.8
			}
            NoIdleSound 1
            UseHumanModel 2
			Item "Zombie Sniper"
        }
        JURBot_Scout_Shortstop
        {
            Class Scout
			Skill Easy
			ClassIcon scout_shortstop
			Item "The Shortstop"
			Name "Shortstop Scout"
			Health 650
			Scale 1.4
            UseHumanModel 2
			Item "Zombie Scout"
            CharacterAttributes
            {
                "voice pitch scale" 0.8
            }
        }
        JURGateBot_Heavy_Champ
        {
            Class Heavyweapons
			Name "Heavyweight Champ"
			Skill Easy
			ClassIcon heavy_champ
			WeaponRestrictions MeleeOnly
			Item "The Killing Gloves of Boxing"
			Item "Pugilist's Protector"
            CharacterAttributes
			{
                "voice pitch scale" 0.8
			}
            UseHumanModel 2
            Item "Zombie Heavy"
            SpawnTemplate "gately_gibus_wearer"
            EventChangeAttributes
			{
				Default
				{
					Tag bot_gatebot 				// having these will cause bots to run towards gates
					Tag nav_prefer_gate1_flank		// having these will cause bots to run towards gates
					BehaviorModifiers push			// having these will cause bots to run towards gates
					Attributes IgnoreFlag 			// having these will cause bots to run towards gates

					Item "Ghostly Gibus"
                    ItemAttributes
                    {
                        ItemName "Ghostly Gibus"
                        "custom item model" "models/player/items/all_class/gately_gibus_heavy.mdl"
                    }
				}
				RevertGateBotsBehavior
				{
					Item "Ghostly Gibus"
				}
			}
        }
        JURBot_Heavy_Champ
        {
            Class Heavyweapons
			Name "Heavyweight Champ"
			Skill Easy
			ClassIcon heavy_champ
			WeaponRestrictions MeleeOnly
			Item "The Killing Gloves of Boxing"
			Item "Pugilist's Protector"
            CharacterAttributes
			{
                "voice pitch scale" 0.8
			}
            UseHumanModel 2
            Item "Zombie Heavy"
        }
        JURGateBot_Scout_Slowfire
        {
            Class Scout
            Name "Scout"
			Skill Easy
			ItemAttributes
			{
				ItemName "TF_WEAPON_SCATTERGUN"
				"fire rate bonus" 1.15 //fire slower
			}
			Item "Zombie Scout"
            CharacterAttributes
            {
                "voice pitch scale" 0.8
            }
            SpawnTemplate "gately_gibus_wearer"
            EventChangeAttributes
			{
				Default
				{
					Tag bot_gatebot 				// having these will cause bots to run towards gates
					Tag nav_prefer_gate1_flank		// having these will cause bots to run towards gates
					BehaviorModifiers push			// having these will cause bots to run towards gates
					Attributes IgnoreFlag 			// having these will cause bots to run towards gates
					Item "Ghostly Gibus"
                    ItemAttributes
                    {
                        ItemName "Ghostly Gibus"
                        "custom item model" "models/player/items/all_class/gately_gibus_heavy.mdl"
                        "attachment name" "head"
                        "attachment offset" "-2.4 0.5 -10.3"
                        "attachment angles" "-4 0 7"
                    }
				}
                
				RevertGateBotsBehavior
				{
					Item "Ghostly Gibus"
				}
			}
        }
        JURBot_Soldier_RocketShotgun
        {
            Class Soldier
			ClassIcon soldier_blackbox
			Item "The Black Box"
			Name "Black Box Soldier"
			Skill Normal
			WeaponRestrictions PrimaryOnly
			Attributes HoldFireUntilFullReload
			ItemAttributes
			{
				ItemName "The Black Box"
				"damage bonus" 0.33
				"fire rate bonus" 0.001
				"clip size upgrade atomic" 0
				"faster reload rate" 0.9
				"blast radius increased" 1.25
				"projectile spread angle penalty" 2
				"heal on hit for rapidfire" 60
			}
            UseHumanModel 2
            Item "Zombie Soldier"
            CharacterAttributes
            {
                "voice pitch scale" 0.8
            }
        }
        JURBot_Heavy_Warrior
        {
            Class Heavyweapons
			Name "Warrior Heavy"
    		ClassIcon heavy_warrior
	    	Skill Expert
		    Health 900
    		Scale 1.5
	    	WeaponRestrictions MeleeOnly
	    	Item "Warrior's Spirit"
            ItemAttributes
    		{
    			ItemName "Warrior's Spirit"
    			"dmg taken increased" 1
    		}
            NoIdleSound 1
            UseHumanModel 2
			Item "Zombie Heavy"
            
            CharacterAttributes
            {
                "voice pitch scale" 0.8
            }
        }
        JURGateBot_Pyro_DragonFury
        {
            Class Pyro
			Name "Dragon's Fury Pyro"
			ClassIcon pyro_dragon_fury_swordstone
			Skill Hard
            UseMeleeThreatPrioritization 1
			Item "The Dragon's Fury"
			WeaponRestrictions PrimaryOnly
			MaxVisionRange 1000
            NoIdleSound 1
            UseHumanModel 2
            Item "Zombie Pyro"
            ItemAttributes
            {
                ItemName "The Dragon's Fury"
                "airblast disabled" 1
            }
            CharacterAttributes
            {
                "voice pitch scale" 0.8
            }
            SpawnTemplate "gately_gibus_wearer"
            EventChangeAttributes
			{
				Default
				{
					Tag bot_gatebot 				// having these will cause bots to run towards gates
					Tag nav_prefer_gate1_flank		// having these will cause bots to run towards gates
					BehaviorModifiers push			// having these will cause bots to run towards gates
					Attributes IgnoreFlag 			// having these will cause bots to run towards gates
                    Item "Ghostly Gibus"
                    ItemAttributes
                    {
                        ItemName "Ghostly Gibus"
                        "custom item model" "models/player/items/all_class/gately_gibus_heavy.mdl"
                        "attachment name" "head"
                        "attachment scale" "0.95"
                        "attachment offset" "1 0.2 -9.8"
                        "attachment angles" "-42 0 3"
                    }
					
                }
				RevertGateBotsBehavior
				{
					Item "Ghostly Gibus"
				}
			}
        }
        JURBot_Scout_Bonk_Bullet
        {
            Class Scout
			Skill Hard
			Item "Bonk! Atomic Punch"
            ItemAttributes
            {
                ItemName "Bonk! Atomic Punch"
                "effect cond override" 78
            }
			Item "Bonk Helm"
			WeaponRestrictions MeleeOnly
			ClassIcon scout_bonk_bullet_nys
            SpawnTemplate "bonk_bulletvac_logic"
        }
        T_TFBot_Testing_Bot
        {
            Class Scout
            Name "Testing Bot"
            Attributes SuppressFire
            CharacterAttributes
            {
                "move speed bonus" 0.001
                "no_jump" 1
            }
        }

        JURBot_PotionTosser
        {
            Class Sniper
            ClassIcon potion_trap_lite
            Name "Potion Tosser"
            Action Mobber
            Scale 1.35
            Health 650
            Attributes AlwaysCrit
            Attributes DisableDodge
            Item "The Crone's Dome"
            Item "Jarate"
            StripItemSlot 0
            CustomWeaponModel
            {
                Slot 2
                Model "models/empty.mdl"
            }
            UseCustomModel "models/bots/skeleton_sniper/skeleton_sniper.mdl"
            FireInput
            {
                Target "switch_to_melee"
                Action "Trigger"
                Delay 1
                Cooldown 2.5
                IfSeeTarget 0
            }
            FireInput
            {
                Target "switch_to_potion"
                Action "Trigger"
                Delay 0
                Cooldown 9
                IfSeeTarget 1
            }
            FireInput
            {
                Target "choose_potion_effect"
                Action "PickRandom"
                Delay 0
                Cooldown 6
                IfSeeTarget 0
            }
            EventChangeAttributes
            {
                Default
                {
                    Skill Expert
                    ItemAttributes
                    {
                        ItemName "Jarate"
                        "SPELL: set item tint RGB" 5
                        "fire rate bonus" 3
                        "effect bar recharge rate increased" 0
                    }
                }
                Cond_Minicrit
                {   
                    Skill Expert
                    ItemAttributes
                    {
                        ItemName "Jarate"
                        "effect cond override" 19 //Mini-crits
                        "SPELL: set item tint RGB" 5
                        "fire rate bonus" 3
                        "effect bar recharge rate increased" 0
                        "attach particle effect" 178
                    }
                }
                Cond_Marked 
                { 
                    Skill Expert
                    ItemAttributes
                    {
                        ItemName "Jarate"
                        "effect cond override" 30 //Marked for death
                        "SPELL: set item tint RGB" 5
                        "fire rate bonus" 3
                        "effect bar recharge rate increased" 0
                        "attach particle effect" 44
                    }
                }
                Cond_Bombhead
                { 
                    Skill Expert
                    ItemAttributes
                    {
                        ItemName "Jarate"
                        "effect cond override" 53 //Bombhead
                        "SPELL: set item tint RGB" 5
                        "fire rate bonus" 3
                        "effect bar recharge rate increased" 0
                        "attach particle effect" 147
                    }
                }
                Cond_AmpuTaunt
                { 
                    Skill Expert
                    ItemAttributes
                    {
                        ItemName "Jarate"
                        "effect cond override" 55 //Amputator taunt
                        "SPELL: set item tint RGB" 5
                        "fire rate bonus" 3
                        "effect bar recharge rate increased" 0
                        "attach particle effect" 58
                    }
                }
                Cond_Gravity
                { 
                    Skill Expert
                    ItemAttributes
                    {
                        ItemName "Jarate"
                        "effect cond override" 84 //Lowered gravity
                        "SPELL: set item tint RGB" 5
                        "fire rate bonus" 3
                        "effect bar recharge rate increased" 0
                        "attach particle effect" 155
                    }
                }
                Cond_Swim
                { 
                    Skill Expert
                    ItemAttributes
                    {
                        ItemName "Jarate"
                        "effect cond override" 107 //Swim in the air
                        "SPELL: set item tint RGB" 5
                        "fire rate bonus" 3
                        "effect bar recharge rate increased" 0
                        "attach particle effect" 130
                    }
                }
                Cond_Gas
                { 
                    Skill Expert
                    ItemAttributes
                    {
                        ItemName "Jarate"
                        "effect cond override" 123 //Covered in gas
                        "SPELL: set item tint RGB" 5
                        "fire rate bonus" 3
                        "effect bar recharge rate increased" 0
                        "attach particle effect" 106
                    }
                }
            }
        }
        T_TFBot_Pyro_Phlog
		{
			Class Pyro
			Name "Phlog Pyro"
			ClassIcon pyro_phlog
			Skill Expert
			Attributes SpawnWithFullCharge

			Item "The Phlogistinator"
			ItemAttributes
			{
				ItemName "The Phlogistinator"
				"airblast disabled" 0
			}
		}
        JURGateBot_Demoman
        {
            Class Demoman
			SpawnTemplate "gately_gibus_wearer"
            
            EventChangeAttributes
			{
				Default
				{
					Tag bot_gatebot 				// having these will cause bots to run towards gates
					Tag nav_prefer_gate1_flank		// having these will cause bots to run towards gates
					BehaviorModifiers push			// having these will cause bots to run towards gates
					Attributes IgnoreFlag 			// having these will cause bots to run towards gates

					Item "Ghostly Gibus"
                    ItemModel
                    {
                        ItemName "Ghostly Gibus"
                        Model "models/player/items/all_class/gately_gibus_heavy.mdl"
                    }
                    ItemAttributes
                    {
                        ItemName "Ghostly Gibus"
                        "custom item model" "models/player/items/all_class/gately_gibus_heavy.mdl"
                        "attachment name" "head"
                        "attachment scale" "1.03"
                        "attachment offset" "0.2 0.2 -11.2"
                        "attachment angles" "-22 0 4"
                    }
				}
				RevertGateBotsBehavior
				{
					Item "Ghostly Gibus"
				}
			}
        }
        T_TFBot_Giant_Engineer_Frontierjustice
        {
            Class Engineer
            Name "Giant Frontier Engineer"
            Item "The Frontier Justice"
            ClassIcon engineer_frontier_justice_nys
            Attributes AlwaysCrit
            Skill Hard
            Health 2800
            Attributes MiniBoss
            Action FetchFlag
            Scale 1.75
            WeaponRestrictions PrimaryOnly
            NoIdleSound 1
            UseHumanModel 2
            Item "Zombie Engineer"
            CharacterAttributes
            {
                "move speed bonus" 0.5
			    "damage force reduction" 0.2
			    "airblast vulnerability multiplier" 0.2
			    "override footstep sound set" 4
                "voice pitch scale" 0.8
            }
                
        }
        T_TFBot_Giant_Engineer_Widowmaker
		{
			Class Engineer
			ClassIcon engineer_widowmaker_nys
			Name "Giant Widowmaker Engineer"
			Skill Hard
			Health 2800
			Scale 1.75
			WeaponRestrictions PrimaryOnly

			Attributes MiniBoss
			Action FetchFlag
            
			Item "The Widowmaker"
            NoIdleSound 1
            UseHumanModel 2
            Item "Zombie Engineer"
			ItemAttributes
			{
				ItemName "The Widowmaker"
				"fire rate bonus" .6
				"damage penalty" .8
			}
			CharacterAttributes
			{
				"move speed bonus" 0.5
				"damage force reduction" 0.2
				"airblast vulnerability multiplier" 0.2
				"override footstep sound set" 4
                "voice pitch scale" 0.8
			}
		}
        T_TFBot_Engineer_Widowmaker
		{
			Class Engineer
			ClassIcon engineer_widowmaker_nys
			Name "Widowmaker Engineer"
			Skill Hard
			
			WeaponRestrictions PrimaryOnly
			Action FetchFlag
            
			Item "The Widowmaker"
            UseHumanModel 2
            Item "Zombie Engineer"
			//ItemAttributes
			//{
			//	ItemName "The Widowmaker"
			//	"fire rate bonus" .6
			//	"damage bonus" .8
			//}
            CharacterAttributes
            {
                "voice pitch scale" 0.8
            }
		}
        T_TFBot_Medic_Knockout
        {
            Class Medic
			Name "Knockout Medic"
			Skill Expert
			Classicon medic_knockout
			Attributes SpawnWithFullCharge
            ItemAttributes
            {
                ItemName "TF_WEAPON_MEDIGUN"
                "effect cond override" 78 //experimental
            }
			CharacterAttributes
			{
                "heal rate bonus" 100
			    "bot medic uber health threshold" 999
			    "uber duration bonus" 999
			}
            UseHumanModel 2
			Item "Zombie Medic"
        }
        JURBot_Soldier_EscapePlan
        {
            Class Soldier
            ClassIcon soldier_pickaxe_escape
            Name "Escapist Soldier"
			Skill Expert
			WeaponRestrictions MeleeOnly
            Item "The Escape Plan"
            CharacterAttributes
			{
                "voice pitch scale" 0.8
			}
            UseHumanModel 2
            Item "Zombie Soldier"
        }
        JURBot_Giant_Heavy_Shotgun_Burstfire
		{
			Name "Giant Burstfire Shotgun Heavy"
			Class Heavyweapons
			Skill Expert
			Health 5000
			ClassIcon heavy_shotgun_burst_lite
			Attributes MiniBoss
			WeaponRestrictions SecondaryOnly
            Attributes HoldFireUntilFullReload
            Item "The Family Business"
			ItemAttributes
			{
				ItemName "The Family Business"
				"faster reload rate" 0.5
				"fire rate bonus" 0.2
			}
			CharacterAttributes
			{
				"move speed bonus"	0.7
				"damage force reduction" 0.3
				"airblast vulnerability multiplier" 0.3
				"attack projectiles" 1	// force ability to shoot down projectiles
				"override footstep sound set" 2
			}
		}
        JURBot_Soldier_Hastebuff
        {
            Class Soldier
            Name "Haste Buff Soldier"
			Skill Normal
			ClassIcon soldier_hastebuff
            StripItemSlot 2
			Item "The Gunboats"
            SpawnTemplate "haste_radius"
            SpawnTemplate "powerup_logic_hastebuff_recipient"
            CustomWeaponModel [$SIGSEGV]
			{
				Slot 1
				Model "models/weapons/c_models/c_hastebanner/c_hastebanner.mdl"
			}
            UseHumanModel 2
			Item "Zombie Soldier" 
        }
        JURBot_Soldier_Critbuff
        {
            Class Soldier
            Name "Crit Buff Soldier"
			Skill Normal
			ClassIcon soldier_critbuff
            StripItemSlot 2
			Item "The Gunboats"
            SpawnTemplate "crit_radius"
            SpawnTemplate "powerup_logic_critbuff_recipient"
            CustomWeaponModel [$SIGSEGV]
			{
				Slot 1
				Model "models/weapons/c_models/c_critbanner/c_critbanner.mdl"
			}
        }
        JURBot_Giant_Soldier_Critbuff
        {
            Class Soldier
            ClassIcon soldier_critbuff
            Name "Giant Crit Banner Soldier"
            Attributes AlwaysCrit
			Skill Expert
			Health 3800
			WeaponRestrictions PrimaryOnly
			Attributes HoldFireUntilFullReload
			Attributes MiniBoss
			Attributes SpawnWithFullCharge
			CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction" 0.4
				"airblast vulnerability multiplier" 0.4
				"override footstep sound set" 3
				"increase buff duration"	9.0
                "voice pitch scale" 0
			}
            StripItemSlot 2
			Item "The Gunboats"
            SpawnTemplate "crit_radius"
            SpawnTemplate "powerup_logic_critbuff_recipient"
            CustomWeaponModel [$SIGSEGV]
			{
				Slot 1
				Model "models/weapons/c_models/c_critbanner/c_critbanner.mdl"
			}
            NoIdleSound 1
            Item "Zombie Soldier"
        }
    }
    SpawnTemplate "spectralguntracks"
    PointTemplates
    {
        
		spectralgun
		{
            logic_relay
            {
                "targetname" "launcher_aliveness"
            }
			func_tracktrain
			{
				"targetname" "launchertrain"
				"mins" "-1 -1 -1"
				"maxs" "1 1 1"
				"disableshadows" "1"
				"movesound" "Halloween.Merasmus_Float"
				"rendermode" "10"
                "speed" "800"
				"spawnflags" "536"
				"target" "launchtrack_1"
			}
			game_text
			{
				"targetname" "launcherinfo"
				"color" "255 0 0"
				"color2" "255 0 0"
				"fadein" "0.5"
				"fadeout" "0.5"
				"holdtime" "6"
				"x" "-1"
				"y" "0.2"
				"message" "Left Click to Fire | Right Click to Swap Weapons"
			}
			// main logic
			//trigger_multiple
			//{
			//	"targetname" "launchertrigger"
			//	"parentname" "launchertrain"
			//	"origin" "0 0 8"
			//	"mins" "-32 -32 -8"
			//	"maxs" "32 32 8"
			//	"filtername" "filter_red*"
			//	"spawnflags" "1"
			//	
			//	"OnStartTouch" "!self,Disable,,0,-1"
            //    "OnStartTouch" "!activator,$AddCond,51,0,-1"
			//	"OnStartTouch" "!activator,AddOutput,targetname inlauncher,0,-1"
			//	"OnStartTouch" "launchermove,SetMeasureTarget,inlauncher,0.01,-1"
			//	"OnStartTouch" "launcherui,Activate,,0,-1"
			//	"OnStartTouch" "launchercam,Enable,,0,-1"
			//	"OnStartTouch" "launcherbuildingmaker,ForceSpawn,,0,-1"
			//	"OnStartTouch" "launcherprop_wep,Enable,,0,-1"
			//	"OnStartTouch" "launcherparticle,Start,,0,-1"
			//	"OnStartTouch" "!activator,SetModelScale,0.0001,0,-1"
			//	"OnStartTouch" "classfilters,TestActivator,,0,-1"
			//	"OnStartTouch" "launchershoot,$setowner,!activator,0,-1"
			//	"OnStartTouch" "minimimic,$setowner,!activator,0,-1"
			//	"OnStartTouch" "spawnsound,PlaySound,,0,-1"
			//	"OnStartTouch" "launcherinfo,Display,,0,-1"
			//}
			//trigger_multiple
			//{
			//	"targetname" "launchertrigger"
			//	"parentname" "launchertrain"
			//	"origin" "0 0 8"
			//	"mins" "-64 -64 -16"
			//	"maxs" "64 64 16"
			//	"filtername" "filter_inlauncher"
			//	"spawnflags" "1"
			//	
			//	"OnEndTouch" "!self,Disable,,0,-1"
            //    "OnEndTouch" "launcherui,Deactivate,,0,-1"
            //    "OnEndTouch" "launcher_aliveness,kill,,0.1,-1"
 			//}
			ambient_generic
			{
				"targetname" "spawnsound"
				"parentname" "launchertrain"
				"origin" "0 0 72"
				"message" "physics/metal/metal_barrel_impact_hard7.wav" // placeholder probably
				"health" "10"
				"pitch" "100"
				"radius" "512"
				"spawnflags" "48"
			}
			ambient_generic
			{
				"targetname" "spawnsound"
				"parentname" "launchertrain"
				"origin" "0 0 72"
				"message" "physics/metal/metal_barrel_impact_hard7.wav" // placeholder probably
				"health" "10"
				"pitch" "100"
				"radius" "512"
				"spawnflags" "48"
			}
			point_teleport
			{
				"targetname" "launcherofftele"
				"origin" "160 0 24"
				"target" "!activator"
			}
			game_ui
			{
				"targetname" "launcherui"
				"spawnflags" "96"
				"fieldofview" "-1"

				"PlayerOff" "!activator,AddOutput,targetname redplayer,0,-1"
                "PlayerOff" "!activator,$RemoveCond,51,0,-1"
				"PlayerOff" "launchertrigger,Enable,,0.01,-1"
				"PlayerOff" "launchermove,SetMeasureTarget,launcherbase,0,-1"
				"PlayerOff" "launchercam,Disable,,0,-1"
				"PressedAttack" "m1counter,Add,1,0,-1"
				"UnpressedAttack" "m1counter,Subtract,1,0,-1"
				"PlayerOff" "m1counter,SetValue,0,0,-1"
				"PlayerOff" "launcherbuilding,Kill,,0,-1"
				"PlayerOff" "launcherprop*,Disable,,0,-1"
				"PlayerOff" "launcherparticle,Stop,,0,-1"
				"PlayerOff" "!activator,SetModelScale,1,0,-1"
				"PlayerOff" "m2counter,SetValue,0,0,-1"
				"PlayerOff" "launcherofftele,Teleport,,0,-1"
				"PressedAttack2" "m2counter,Add,1,0,-1"
				"UnpressedAttack2" "m2counter,Subtract,1,0,-1"
			}
			info_particle_system
			{
				"targetname" "launcherparticle"
				"parentname" "launchertrain"
				"effect_name" "spell_cast_wheel_red"
			}
			info_particle_system
			{
				"targetname" "launcherparticle"
				"parentname" "launchertrain"
				"origin" "0 0 40"
				"effect_name" "eyeboss_team_sparks_red"
			}
			prop_dynamic
			{
				"model" "models/props_mvm/spectralgun_base.mdl"
				"parentname" "launchertrain"
				"origin" "0 0 40"
				"disableshadows" "1"
			}
			prop_dynamic
			{
				"model" "models/props_mvm/spectralgun.mdl"
				"targetname" "launcherprop_wep"
				"origin" "0 0 40"
				"parentname" "launcherorigin"
				"disableshadows" "1"
				"defaultanim" "rl_idle"
				"startdisabled" "1"
			}
			info_particle_system
			{
				"targetname" "miniparticle"
				"origin" "84 0 40"
				"parentname" "launcherorigin"
				"effect_name" "muzzle_minigun_constant"
			}
			info_target
			{
				"targetname" "launcherbase"
				"parentname" "launchertrain"
				"origin" "0 0 40"
			}
			info_target
			{
				"targetname" "launcherorigin"
				"parentname" "launchertrain"
				"origin" "0 0 40"
			}
			logic_measure_movement
			{
				"targetname" "launchermove"
				"parentname" "launchertrain"
				"origin" "0 0 40"
				"measurereference" "launcherbase"
				"measuretarget" "launcherbase"
				"measuretype" "1"
				"target" "launcherorigin"
				"targetreference" "launcherbase"
				"targetscale" "100"
			}
			point_viewcontrol
			{
				"targetname" "launchercam"
				"origin" "4 0 72"
				"parentname" "launcherorigin"
			}

			// +attack1 logic branch
			math_counter
			{
				"targetname" "m1counter"
				"max" "1"

				"OutValue" "m1compare,SetValueCompare,,0,-1"
			}
			logic_compare
			{
				"targetname" "m1compare"
				"comparevalue" "1"

				"OnEqualTo" "launchershootrelay,Trigger,,0,-1"
				"OnEqualTo" "minigunshootrelay,Trigger,,0,-1"
				"OnLessThan" "minigunwinddownrelay,Trigger,,0,-1"
				"OnEqualTo" "minigunwinduprelay,Trigger,,0,-1"
			}
			logic_relay
			{
				"targetname" "launchershootrelay"
				
				"OnTrigger" "launchershoot,FireOnce,,0,-1"
				"OnTrigger" "!self,Disable,,0,-1"
				"OnTrigger" "!self,Enable,,0.8,-1"			// 0.8 is the refire interval
				"OnTrigger" "m1compare,Compare,,0.8,-1"		// 0.8 is the refire interval
				"OnTrigger" "launchersound,PlaySound,,0,-1"
				"OnTrigger" "launcherprop_wep,SetAnimation,rl_shoot,0,-1"
			}
			tf_point_weapon_mimic
			{
				"targetname" "launchershoot"
				"origin" "84 0 40"
				"teamnum" "2"
				"parentname" "launcherorigin"
				"damage" "300"
				"speedmax" "1100"
				"speedmin" "1100"
				"splashradius" "73"
				"crits" "1"
			}
			ambient_generic
			{
				"targetname" "launchersound"
				"parentname" "launchertrain"
				"origin" "0 0 72"
				"message" "Weapon_RPG.SingleCrit"
				"health" "10"
				"pitch" "100"
				"radius" "512"
				"spawnflags" "48"
			}
			ambient_generic
			{
				"targetname" "launchersound"
				"parentname" "launchertrain"
				"origin" "0 0 72"
				"message" "Weapon_RPG.SingleCrit"
				"health" "10"
				"pitch" "100"
				"radius" "512"
				"spawnflags" "48"
			}

			logic_relay
			{
				"targetname" "minigunwinduprelay"
				"startdisabled" "1"
				
				"OnTrigger" "windupsound,PlaySound,,0,-1"
				"OnTrigger" "m1compare,Compare,,0.9,-1"
				"OnTrigger" "!self,Disable,,0,-1"
				"OnTrigger" "minigunshootrelay,Enable,,0.9,-1"
				"OnTrigger" "minigunwinddownrelay,Enable,,0.9,-1"
				"OnTrigger" "mini_switchrelay,Disable,,0,-1"
				"OnTrigger" "minigunwinddownrelay,CancelPending,,0,-1"
				"OnTrigger" "launcherprop_wep,SetAnimation,mini_spinup,0,-1"
			}
			ambient_generic
			{
				"targetname" "windupsound"
				"parentname" "launchertrain"
				"origin" "0 0 72"
				"message" "Weapon_Minigun.WindUp"
                //"sourceentityname" "launcherbase"
				"health" "10"
				"pitch" "100"
				"radius" "512"
				"spawnflags" "48"
			}
			logic_relay
			{
				"targetname" "minigunshootrelay"
				"startdisabled" "1"

				"OnTrigger" "miniparticle,Start,,0,-1"
				"OnTrigger" "minishootsound,PlaySound,,0,0"
				"OnTrigger" "launcherprop_wep,SetAnimation,mini_spinidle,0,-1"
				"OnTrigger" "minimimic,FireMultiple,4,0,-1"
				"OnTrigger" "minitimer,Enable,,0,-1"
			}
			logic_timer
			{
				"targetname" "minitimer"
				"refiretime" "0.105"
				"startdisabled" "1"

				"OnTimer" "minimimic,FireMultiple,4,0,-1"
			}
			tf_point_weapon_mimic
			{
				"targetname" "minimimic"
				"origin" "84 0 40"
				"teamnum" "2"
				"parentname" "launcherorigin"
				"damage" "75"
				"weapontype" "4"
				"spreadangle" "15"
			}
			ambient_generic
			{
				"targetname" "minishootsound"
				"parentname" "launchertrain"
				"origin" "0 0 72"
				"message" "Weapon_Minigun.Fire"
				"health" "10"
				"pitch" "100"
				"radius" "512"
				"spawnflags" "16"
			}
			logic_relay
			{
				"targetname" "minigunwinddownrelay"
				"startdisabled" "1"

				"OnTrigger" "minishootsound,StopSound,,0,-1"
				"OnTrigger" "winddownsound,PlaySound,,0,-1"
				"OnTrigger" "miniparticle,Stop,,0,-1"
				"OnTrigger" "minigunwinduprelay,Enable,,0.9,-1"
				"OnTrigger" "m1compare,Compare,,0.9,-1"
				"OnTrigger" "mini_switchrelay,Enable,,0.9,-1"
				"OnTrigger" "minigunshootrelay,Disable,,0,-1"
				"OnTrigger" "!self,Disable,,0,-1"
				"OnTrigger" "minigunwinduprelay,CancelPending,,0,-1"
				"OnTrigger" "m2compare,Compare,,0.91,-1"
				"OnTrigger" "launcherprop_wep,SetAnimation,mini_spindown,0.01,-1"
				"OnTrigger" "minitimer,Disable,,0,-1"
			}
			ambient_generic
			{
				"targetname" "winddownsound"
				"parentname" "launchertrain"
				"origin" "0 0 72"
				"message" "Weapon_Minigun.WindDown"
				"health" "10"
				"pitch" "100"
				"radius" "512"
				"spawnflags" "48"
			}

			// +attack2 logic branch
			math_counter
			{
				"targetname" "m2counter"
				"max" "1"

				"OutValue" "m2compare,SetValueCompare,,0,-1"
			}
			logic_compare
			{
				"targetname" "m2compare"
				"comparevalue" "1"
				
				"OnEqualTo" "rl_switchrelay,Trigger,,0.01,-1"
				"OnEqualTo" "mini_switchrelay,Trigger,,0.01,-1"
			}
			logic_relay
			{
				"targetname" "rl_switchrelay"

				"OnTrigger" "launcherprop_wep,SetDefaultAnimation,mini_idle,0.5,-1"
				"OnTrigger" "launcherprop_wep,SetAnimation,rl_swap,0,-1"
				"OnTrigger" "launchershootrelay,Disable,,0,-1"
				"OnTrigger" "launchershootrelay,CancelPending,,0,-1"
				"OnTrigger" "!self,Disable,,0,-1"
				"OnTrigger" "m2compare,Compare,,0.7,-1"
				"OnTrigger" "mini_switchrelay,Enable,,0.71,-1"
				"OnTrigger" "minigunwinduprelay,Enable,,0.71,-1"
				"OnTrigger" "m1compare,Compare,,0.71,-1"
				"OnTrigger" "switchsound,PlaySound,,0,-1"
			}
			logic_relay
			{
				"targetname" "mini_switchrelay"
				"startdisabled" "1"
				
				"OnTrigger" "rl_switchrelay,Enable,,0.71,-1"
				"OnTrigger" "m2compare,Compare,,0.7,-1"
				"OnTrigger" "!self,Disable,,0,-1"
				"OnTrigger" "launchershootrelay,Enable,,0.71,-1"
				"OnTrigger" "launcherprop_wep,SetAnimation,mini_swap,0,-1"
				"OnTrigger" "launcherprop_wep,SetDefaultAnimation,rl_idle,0.5,-1"
				"OnTrigger" "m1compare,Compare,,0.71,-1"
				"OnTrigger" "minigunwinduprelay,Disable,,0,-1"
				"OnTrigger" "switchsound,PlaySound,,0,-1"
			}
			ambient_generic
			{
				"targetname" "switchsound"
				"parentname" "launchertrain"
				"origin" "0 0 72"
				"message" "Halloween.plumes_short"
				"health" "10"
				"pitch" "100"
				"radius" "512"
				"spawnflags" "48"
			}
			ambient_generic
			{
				"targetname" "switchsound"
				"parentname" "launchertrain"
				"origin" "0 0 72"
				"message" "Halloween.plumes_short"
				"health" "10"
				"pitch" "100"
				"radius" "512"
				"spawnflags" "48"
			}

			// class models
			filter_tf_class
			{
				"targetname" "classfilters"
				"tfclass" "1"

				"OnPass" "launcherprop_scout,Enable,,0,-1"
			}
			prop_dynamic
			{
				"targetname" "launcherprop_scout"
				"model" "models/player/scout.mdl"
				"origin" "4 0 10"
				"defaultanim" "kart_idle"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"parentname" "launcherorigin"
				"startdisabled" "1"
			}
			filter_tf_class
			{
				"targetname" "classfilters"
				"tfclass" "3"

				"OnPass" "launcherprop_soldier,Enable,,0,-1"
			}
			prop_dynamic
			{
				"targetname" "launcherprop_soldier"
				"model" "models/player/soldier.mdl"
				"origin" "4 0 10"
				"defaultanim" "kart_idle"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"parentname" "launcherorigin"
				"startdisabled" "1"
			}
			filter_tf_class
			{
				"targetname" "classfilters"
				"tfclass" "7"

				"OnPass" "launcherprop_pyro,Enable,,0,-1"
			}
			prop_dynamic
			{
				"targetname" "launcherprop_pyro"
				"model" "models/player/pyro.mdl"
				"origin" "4 0 10"
				"defaultanim" "kart_idle"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"parentname" "launcherorigin"
				"startdisabled" "1"
			}
			filter_tf_class
			{
				"targetname" "classfilters"
				"tfclass" "4"

				"OnPass" "launcherprop_demo,Enable,,0,-1"
			}
			prop_dynamic
			{
				"targetname" "launcherprop_demo"
				"model" "models/player/demo.mdl"
				"origin" "4 0 10"
				"defaultanim" "kart_idle"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"parentname" "launcherorigin"
				"startdisabled" "1"
			}
			filter_tf_class
			{
				"targetname" "classfilters"
				"tfclass" "6"

				"OnPass" "launcherprop_heavy,Enable,,0,-1"
			}
			prop_dynamic
			{
				"targetname" "launcherprop_heavy"
				"model" "models/player/heavy.mdl"
				"origin" "4 0 10"
				"defaultanim" "kart_idle"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"parentname" "launcherorigin"
				"startdisabled" "1"
			}
			filter_tf_class
			{
				"targetname" "classfilters"
				"tfclass" "9"

				"OnPass" "launcherprop_engineer,Enable,,0,-1"
			}
			prop_dynamic
			{
				"targetname" "launcherprop_engineer"
				"model" "models/player/engineer.mdl"
				"origin" "4 0 10"
				"defaultanim" "kart_idle"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"parentname" "launcherorigin"
				"startdisabled" "1"
			}
			filter_tf_class
			{
				"targetname" "classfilters"
				"tfclass" "5"

				"OnPass" "launcherprop_medic,Enable,,0,-1"
			}
			prop_dynamic
			{
				"targetname" "launcherprop_medic"
				"model" "models/player/medic.mdl"
				"origin" "4 0 10"
				"defaultanim" "kart_idle"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"parentname" "launcherorigin"
				"startdisabled" "1"
			}
			filter_tf_class
			{
				"targetname" "classfilters"
				"tfclass" "2"

				"OnPass" "launcherprop_sniper,Enable,,0,-1"
			}
			prop_dynamic
			{
				"targetname" "launcherprop_sniper"
				"model" "models/player/sniper.mdl"
				"origin" "4 0 10"
				"defaultanim" "kart_idle"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"parentname" "launcherorigin"
				"startdisabled" "1"
			}
			filter_tf_class
			{
				"targetname" "classfilters"
				"tfclass" "8"

				"OnPass" "launcherprop_spy,Enable,,0,-1"
			}
			prop_dynamic
			{
				"targetname" "launcherprop_spy"
				"model" "models/player/spy.mdl"
				"origin" "4 0 10"
				"defaultanim" "kart_idle"
				"disableshadows" "1"
				"disablebonefollowers" "1"
				"parentname" "launcherorigin"
				"startdisabled" "1"
			}
            RemoveIfKilled "launcher_aliveness"
		}
        finale_logic
        {
            NoFixup 1
            logic_relay
            {
                "targetname" "bots_win_relay"
                "OnTrigger" "bots_win,RoundWin,,0,-1"
                "OnTrigger" "colossus_death_relay,Disable,,0,-1"
            }
			filter_activator_name
			{
				"targetname" "filter_inlauncher"
				"negated" "0"
				"filtername" "inlauncher"
			}
            info_target
            {
                "targetname" "colossus_aimtarget_1"
                "origin" "-195 5561 -9800"
            }
            logic_relay
            {
                "targetname" "redbecomeskeleton_relay"
                "OnTrigger" "redplayer,SetCustomModel,models/bots/skeleton_sniper/skeleton_sniper.mdl,0,-1"
            }
            logic_relay
            {
                "targetname" "spectralgun_roundend_fix"
                "OnTrigger" "launcherui*,deactivate,,0,-1"
                "OnTrigger" "launcher_aliveness*,kill,,0.1,-1"
            }
            trigger_hurt
            {
                "StartDisabled" "1"
	            "spawnflags" "1"
	            "origin" "40 2261.5 -10528"
                "mins" "-4184 -5963 -32"
                "maxs" "4184 5963 32"
	            "nodmgforce" "1"
	            "damagetype" "16384"
	            "damagemodel" "0"
	            "damagecap" "99999"
	            "damage" "99999"
            }
            filter_damage_type
            {
                "targetname" "filter_drown"
                "damagetype" "16384"
	            "Negated" "1"
            }
            logic_relay
            {
                "targetname" "underworld_loottest_relay"
                "OnTrigger" "underworld_hurt_zone,Disable,,0,-1"
                "OnTrigger" "yea room,Disable,,0,-1"
                "OnTrigger" "yea room finale,Enable,,0,-1"
                "OnTrigger" "island_door_fx,Enable,,0,-1"
                "OnTrigger" "teleport_loot,Enable,,0,-1"
                "OnTrigger" "clearbuildings_trigger,Enable,,3,-1"
                "OnTrigger" "trigger_add_tf_player_condition,Disable,,0,-1"
                "OnTrigger" "env_soundscape,Disable,,0,-1"
                "OnTrigger" "spawnbot_underworld*,Enable,,0,-1"
                "OnTrigger" "intel*,Kill,,0.01,-1"
                "OnTrigger" "underworld_main_spawn_trigger,Disable,,0,-1"
                "OnTrigger" "underworld_loot_spawn_trigger,Disable,,0,-1"
                //"OnTrigger" "finale_suspense_music,PlaySound,,0,-1"
                //"OnTrigger" "finale_suspense_music,Volume,0,28,-1"
                //"OnTrigger" "finale_music,PlaySound,,30,-1"
                //"OnTrigger" "underworld_gatehouse_open,PlaySound,,4,-1"
                //"OnTrigger" "underworld_sfx_shake,StartShake,,4,-1"
                //"OnTrigger"
                //"OnTrigger"
                //"OnTrigger"
            }
            logic_relay
            {
                "targetname" "underworld_loot_relay"
                "OnTrigger" "gamerules,SetRedTeamRespawnWaveTime,3,0,-1"
                "OnTrigger" "underworld_hurt_zone,Disable,,0,-1"
                "OnTrigger" "yea room,Disable,,0,-1"
                "OnTrigger" "yea room finale,Enable,,0,-1"
                "OnTrigger" "island_door_fx,Enable,,0,-1"
                "OnTrigger" "fadein,Fade,,0,-1"
                "OnTrigger" "underworld_gatehouse_open,PlaySound,,0,-1"
                "OnTrigger" "underworld_sfx_shake,StartShake,,0,-1"
                "OnTrigger" "underworld_gatehouse_open,PlaySound,,2,-1"
                "OnTrigger" "underworld_sfx_shake,StartShake,,2,-1"
                "OnTrigger" "teleport_loot,Enable,,3,-1"
                "OnTrigger" "clearbuildings_trigger,Enable,,3,-1"
                "OnTrigger" "trigger_add_tf_player_condition,Disable,,0,-1"
                "OnTrigger" "env_soundscape,Disable,,0,-1"
                "OnTrigger" "spawnbot_underworld*,Enable,,0,-1"
                "OnTrigger" "intel*,Kill,,0.01,-1"
                "OnTrigger" "underworld_main_spawn_trigger,Disable,,0,-1"
                "OnTrigger" "underworld_loot_spawn_trigger,Disable,,0,-1"
                "OnTrigger" "redplayer,$WeaponSwitchSlot,0,4.49,-1"
                "OnTrigger" "camera_relay,Trigger,,4.5,0,-1"
                //"OnTrigger" "finale_suspense_music,PlaySound,,0,-1"
                //"OnTrigger" "finale_suspense_music,Volume,0,28,-1"
                //"OnTrigger" "finale_music,PlaySound,,30,-1"
                //"OnTrigger" "underworld_gatehouse_open,PlaySound,,4,-1"
                //"OnTrigger" "underworld_sfx_shake,StartShake,,4,-1"
                //"OnTrigger"
                //"OnTrigger"
                //"OnTrigger"
            }
            env_fade
            {
                "duration"      "3"
                "holdtime"      "1"
                "rendercolor"   "255 255 255"
                "targetname"    "fadein"
            }
            trigger_teleport
            {
                "targetname" "teleport_loot"
	            "target" "spawn_loot"
	            "StartDisabled" "1"
	            "spawnflags" "1"
	            "origin" "-64 -1408 -600"
                "mins" "-5000 -7000 -1200"
                "maxs" "5000 7000 1200"
	            "filtername" "filter_redteam"
            }
            trigger_hurt
            {
                "targetname" "clearbuildings_trigger"
                "origin" "-64 -1408 -600"
                "mins" "-5000 -7000 -1200"
                "maxs" "5000 7000 1200"
	            "StartDisabled" "1"
	            "spawnflags" "64"
	            "origin" "-64 -1408 -600"
                "mins" "-5000 -7000 -1200"
                "maxs" "5000 7000 1200"
	            "nodmgforce" "0"
	            "filtername" "filter_buildings"
	            "damagetype" "0"
	            "damagemodel" "0"
	            "damagecap" "20"
	            "damage" "2000"
            }
            filter_tf_bot_has_tag //our tag
			{
				"Negated" "0"
				"require_all_tags" "1"
				"tags" "bot_colossus"
				"targetname" "filter_colossus"
			}
            info_particle_system
            {
                "targetname" "teleport_particle_arrive"
                "effect_name" "doomsday_tentpole_vanish01"
                "flag_as_weather" "0"
                "start_active" "0"
            }
            info_particle_system
            {
                "targetname" "teleport_particle_depart"
                "effect_name" "doomsday_tentpole_vanish01"
                "flag_as_weather" "0"
                "start_active" "0"
            }
            info_particle_system
            {
                "targetname" "teleport_particle_preteleport"
                "effect_name" "merasmus_spawn"
                "flag_as_weather" "0"
                "start_active" "0"
            }
            
            
            logic_relay
            {
                "targetname" "colossus_teleport_relay"
                "ontrigger" "teleport_particle_preteleport,$TeleportToEntity,colossus_target2*,0,-1"
                "ontrigger" "teleport_particle_preteleport,start,0.01,-1"
                "ontrigger" "teleport_particle_depart,$TeleportToEntity,colossus_target*,0.59,-1"
                "ontrigger" "teleport_particle_arrive,$TeleportToEntity,colossus_target*,0.62,-1"
                //"ontrigger" "colossus_tele_startsound*,PlaySound,,0,-1"
                //"ontrigger" "colossus_tele_startsound*,StopSound,,1,-1"
                "ontrigger" "colossus_tele_endsound*,PlaySound,,0,-1"
                "ontrigger" "colossus_tele_endsound*,StopSound,,4,-1"
                "ontrigger" "teleport_particle_depart,Start,,0.6,-1"
                "ontrigger" "choose_colossus_location,PickRandom,,0.61,-1"
                "ontrigger" "teleport_particle_arrive,Start,,0.63,-1"
                
                "ontrigger" "teleport_particle_depart,Stop,,6,-1"
                "ontrigger" "teleport_particle_arrive,Stop,,6.02,-1"
                "ontrigger" "teleport_particle_preteleport,Stop,,4.02,-1"
               // "ontrigger" "player,$DisplayTextChat,teleported,1,-1"
            }
            math_counter
			{
				"targetname" "colossus_location_state"
				"startvalue" "1"
				"min"        "1"
				"max"        "3"
				
				"OutValue" "colossus_location_compare,SetValueCompare,,0,-1"
                //"OutValue" "player,$DisplayTextChat,,0,-1"
			}
            logic_compare
            {
                "targetname"    "colossus_location_compare"
                "InitialValue"  "1"
                "CompareValue"  "1"

                "OnEqualTo" "choose_colossus_location,PickRandom,,0,-1"
                "OnNotEqualTo" "colossus_location_state,Disable,,0,-1"
                "OnNotEqualTo" "colossus_location_state,Enable,,5,-1"
                "OnNotEqualTo" "colossus_teleport_relay,Trigger,,0,-1"
                "OnNotEqualTo" "change_colossus_location,InValue,,0.6,-1"
                "OnNotEqualTo" "!self,SetCompareValue,,0,-1"
            }
            logic_case
            {
                "targetname" "change_colossus_location"
                
                "Case01" "1"
                "Case02" "2"
                "Case03" "3"

                "OnCase01" "teleport_colossus1,Enable,,0,-1"
                "OnCase01" "teleport_colossus2,Disable,,0,-1"
                "OnCase01" "teleport_colossus3,Disable,,0,-1"
                "OnCase02" "teleport_colossus1,Disable,,0,-1"
                "OnCase02" "teleport_colossus2,Enable,,0,-1"
                "OnCase02" "teleport_colossus3,Disable,,0,-1"
                "OnCase03" "teleport_colossus1,Disable,,0,-1"
                "OnCase03" "teleport_colossus2,Disable,,0,-1"
                "OnCase03" "teleport_colossus3,Enable,,0,-1"
            }
            logic_case
            {
                "targetname" "choose_colossus_location"
                "OnCase01" "colossus_location_state,SetValue,1,0,-1"
                "OnCase02" "colossus_location_state,SetValue,2,0,-1"
                "OnCase03" "colossus_location_state,SetValue,3,0,-1"
            }
            info_target
            {
                "targetname" "colossus_telehere1"
                "angles" "0 140 0"
                "origin" "348 205 -10637"
            }
            
            //prop_dynamic
			//{
			//	"targetname" "pre_teleport_prop1"
			//	"disableshadows" "1"
			//	"model" "models/props_lakeside_event/wof_plane2.mdl"
            //    "modelscale" "1.2"
            //    "origin" "348 205 -10437"
            //    "angles" "0 0 -90"
			//}
            info_target
            {
                "targetname" "colossus_telehere2"
                "angles" "0 140 0"
                "origin" "381 -1582 -10637"
            }
            //prop_dynamic
			//{
			//	"targetname" "pre_teleport_prop2"
			//	"disableshadows" "1"
			//	"model" "models/props_lakeside_event/wof_plane2.mdl"
            //    "modelscale" "1.2"
            //    "origin" "381 -1582 -10437"
            //    "angles" "0 0 -90"
			//}
            info_target
            {
                "targetname" "colossus_telehere3"
                "angles" "0 140 0"
                "origin" "-313 4906 -10637"
            }
            //prop_dynamic
			//{
			//	"targetname" "pre_teleport_prop3"
			//	"disableshadows" "1"
			//	"model" "models/props_lakeside_event/wof_plane2.mdl"
            //    "modelscale" "1.2"
            //    "origin" "-313 4906 -10437"
            //    "angles" "0 0 -90"
			//}
            trigger_teleport
            {
                "targetname" "teleport_colossus1"
	            "target" "colossus_telehere1"
	            "StartDisabled" "0"
	            "spawnflags" "1"
                "landmark" "!activator"
	            "origin" "-64 -1408 -4000"
                "mins" "-9999 -9999 -29999"
                "maxs" "9999 9999 19999"
	            "filtername" "filter_colossus"
            }
            trigger_teleport
            {
                "targetname" "teleport_colossus2"
	            "target" "colossus_telehere2"
	            "StartDisabled" "1"
	            "spawnflags" "1"
                "landmark" "!activator"
	            "origin" "-64 -1408 -4000"
                "mins" "-9999 -9999 -29999"
                "maxs" "9999 9999 19999"
	            "filtername" "filter_colossus"
            }
            trigger_teleport
            {
                "targetname" "teleport_colossus3"
	            "target" "colossus_telehere3"
	            "StartDisabled" "1"
	            "spawnflags" "1"
                "landmark" "!activator"
	            "origin" "-64 -1408 -4000"
                "mins" "-9999 -9999 -29999"
                "maxs" "9999 9999 19999"
	            "filtername" "filter_colossus"
            }
            trigger_teleport
            {
                "targetname" "yea room finale"
	            "target" "spawn_gate"
	            "StartDisabled" "1"
	            "spawnflags" "1"
	            "origin" "288 4200 -10228"
                "mins" "-56 -24 -84"
                "maxs" "56 24 84"
	            "filtername" "filter_redteam"
            }
            trigger_teleport
            {
                "targetname" "yea room finale"
	            "target" "spawn_loot"
	            "StartDisabled" "1"
	            "spawnflags" "1"
	            "origin" "360 -2248 -10328"
                "mins" "-56 -40 -80"
                "maxs" "56 40 80"
	            "filtername" "filter_redteam"
            }
            trigger_multiple
            {
                "targetname" "yea room finale"
	            "StartDisabled" "1"
	            "spawnflags" "1"
	            "origin" "288 4200 -10228"
                "mins" "-56 -24 -84"
                "maxs" "56 24 84"
	            "filtername" "filter_redteam"
                "OnTrigger" "!activator,$AddCond,56,0,-1"
                "OnTrigger" "!activator,$AddCond,57,0,-1"
                "OnTrigger" "!activator,$AddCond,73,0,-1"
                "OnTrigger" "!activator,$RemoveCond,56,10,-1"
                "OnTrigger" "!activator,$RemoveCond,57,10,-1"
                "OnTrigger" "!activator,$RemoveCond,73,1,-1"
            }
            trigger_multiple
            {
                "targetname" "yea room finale"
	            "StartDisabled" "1"
	            "spawnflags" "1"
	            "origin" "360 -2248 -10328"
                "mins" "-56 -40 -80"
                "maxs" "56 40 80"
	            "filtername" "filter_redteam"
                "OnTrigger" "!activator,$AddCond,56,0,-1"
                "OnTrigger" "!activator,$AddCond,57,0,-1"
                "OnTrigger" "!activator,$AddCond,73,0,-1"
                "OnTrigger" "!activator,$RemoveCond,56,10,-1"
                "OnTrigger" "!activator,$RemoveCond,57,10,-1"
                "OnTrigger" "!activator,$RemoveCond,73,1,-1"
            }
            ambient_generic
            {
                "targetname" "colossus_sound"
                "health"     "6"
                "message"    "vo/taunts/sniper/sniper_taunt_kill_18.mp3"
                "pitch"      "70"
                "pitchstart" "70"
                "radius"     "200000"
                "spawnflags" "17"
                "fadeoutsecs" "10"
                "origin" "-12 2888 -9444"
            }
            ambient_generic
            {
                "targetname" "booth_sound"
                "health"     "5"
                "message"    "vo/halloween_merasmus/sf12_appears10.mp3"
                "pitch"      "100"
                "pitchstart" "100"
                "radius"     "200000"
                "spawnflags" "17"
                "fadeoutsecs" "10"
                "origin" "-12 2888 -9444"
            }
            ambient_generic
            {
                "targetname" "finale_suspense_music"
                "health"     "10"
                "message"    "#music/vlvx_song23ambient_cmprsd.mp3"
                "pitch"      "100"
                "pitchstart" "100"
                "radius"     "200000"
                "spawnflags" "17"
                "fadeoutsecs" "10"
                "origin" "-12 2888 -9444"
            }
            ambient_generic
            {
                "targetname" "finale_music"
                "health"     "10"
                "message"    "#music/vlvx_song25_cmprsd.mp3"
                "pitch"      "100"
                "pitchstart" "100"
                "radius"     "200000"
                "spawnflags" "17"
                "fadeoutsecs" "10"
                "origin" "-12 2888 -9444"
            }
            ambient_generic
            {
                "targetname" "finale_music_2"
                "health"     "10"
                "message"    "#music/vlvx_song4_cmprsd.mp3"
                "pitch"      "100"
                "pitchstart" "100"
                "radius"     "200000"
                "spawnflags" "17"
                "fadeoutsecs" "10"
                "origin" "-12 2888 -9444"
            }
            logic_relay
            {
                "targetname" "finale_music_start_relay"
                "OnTrigger" "finale_suspense_music,Volume,0,7,-1"
                "OnTrigger" "finale_music,PlaySound,,7,-1"
                "OnTrigger" "finale_music_2,PlaySound,,172,-1"
            }
            logic_relay
            {
                "targetname" "finale_music_end_relay"
                "OnTrigger" "finale_music,Volume,0,0,-1"
                "OnTrigger" "finale_music_2,Volume,0,0,-1"
            }
            //////////////
            //Camera logic
            //////////////
            point_viewcontrol
            {
                "acceleration" "0"
                "deceleration" "0"
                
                //"interpolatepositiontoplayer" "1"
                "spawnflags" "44"
                //"speed" "0"
                //"parentname" "cameratrain_loot"
                "wait" "100"
                "targetname" "camera_loot"
				"origin" "694 5987 -9694"
            }
            point_viewcontrol
            {
                "acceleration" "0"
                "deceleration" "0"
                
                //"interpolatepositiontoplayer" "1"
                "spawnflags" "44"
                //"speed" "0"
                //"parentname" "cameratrain_loot"
                "wait" "100"
                "targetname" "camera_merasmus"
				"origin" "399 7358 -10170"
                "angles" "16 11 10"
            }
            point_viewcontrol
            {
                "acceleration" "0"
                "deceleration" "0"
                
                //"interpolatepositiontoplayer" "1"
                "spawnflags" "44"
                //"speed" "0"
                //"parentname" "cameratrain_loot"
                "wait" "100"
                "targetname" "camera_main"
				"origin" "28 2407 -10168"
            }
            point_viewcontrol
            {
                "acceleration" "0"
                "deceleration" "0"
                "target" "colossus_lookatme"
                //"interpolatepositiontoplayer" "1"
                "spawnflags" "44"
                //"speed" "0"
                //"parentname" "cameratrain_loot"
                "wait" "100"
                "targetname" "camera_boss"
				"origin" "-594 2106 -9200"
                "angles" "15 -100 0"
            }
            info_target
            {
                "targetname" "colossus_lookatme"
                "origin" "367 712 -10037"
                //"origin" "-1338 4933 -9800"
                //"origin" "49 5454 -9839"
            }
            func_tracktrain
			{
				"targetname" "cameratrain_loot"
				"mins" "-1 -1 -1"
				"maxs" "1 1 1"
                "origin" "694 5987 -9694"
                "angles" "15 -90 5"
                "orientationtype" "2"
				"disableshadows" "1"
				"rendermode" "10"
                "speed" "0"
                "startspeed" "400"
				"spawnflags" "536"
				"target" "cameratrack_loot_1"
			}
            func_tracktrain
			{
				"targetname" "cameratrain_main"
				"mins" "-1 -1 -1"
				"maxs" "1 1 1"
                "origin" "28 2407 -10168"
                "angles" "15 -90 5"
                "orientationtype" "2"
				"disableshadows" "1"
				"rendermode" "10"
                "speed" "0"
                "startspeed" "500"
				"spawnflags" "536"
				"target" "cameratrack_main_1"
			}
            logic_measure_movement 
            {
                "targetname" "measure_movement_targetname"
                "MeasureReference" "cameratrain_loot"
                "MeasureTarget" "cameratrain_loot"
                "MeasureType" "0"
                "Target" "camera_loot"
                "TargetReference" "cameratrain_loot"
                "TargetScale" "1"
            }
            logic_measure_movement 
            {
                "targetname" "measure_movement_targetname"
                "MeasureReference" "cameratrain_main"
                "MeasureTarget" "cameratrain_main"
                "MeasureType" "0"
                "Target" "camera_main"
                "TargetReference" "cameratrain_main"
                "TargetScale" "1"
            }
            //logic_measure_movement 
            //{
            //    "targetname" "measure_movement_targetname"
            //    "MeasureReference" "cameratrain_boss"
            //    "MeasureTarget" "cameratrain_boss"
            //    "MeasureType" "0"
            //    "Target" "camera_boss"
            //    "TargetReference" "cameratrain_boss"
            //    "TargetScale" "1"
            //}
            logic_relay
            {
                "targetname" "camera_relay"
                "OnTrigger" "finale_suspense_music,PlaySound,,0,-1"
                "OnTrigger" "player,$ForceRespawnDead,,0,-1"
                "OnTrigger" "player,SetHudVisibility,0,0,-1"

                "Ontrigger" "cameratrain_loot,Speed,1,0.2,-1"
                "Ontrigger" "cameratrain_loot,StartForward,,0,-1"
                "OnTrigger" "camera_loot,$EnableAll,,0.001,-1"
                "OnTrigger" "redplayer,$TeleportToEntity,teleport_capzone_failsafe_destination,2.49,-1"
                "OnTrigger" "camera_merasmus,$EnableAll,,2.5,-1"
                "OnTrigger" "cameratrain_loot,Speed,20,2.5,-1"
                "OnTrigger" "booth_sound,PlaySound,,2.5,-1"

                "OnTrigger" "camera_loot,$EnableAll,,4.2,-1"
                "OnTrigger" "cameratrain_loot,Speed,400,4.2,-1"
                "OnTrigger" "booth_sound,Volume,0,4.7,-1"
            }
            
            path_track
			{
				"targetname"	"cameratrack_loot_1"
				"target"		"cameratrack_loot_2"
				"origin" "288 8234 -10109"
			}
			path_track
			{
				"targetname"	"cameratrack_loot_2"
				"target"		"cameratrack_loot_3"
				"origin" "288 5583 -9913"
			}
			path_track
			{
				"targetname"	"cameratrack_loot_3"
                //"OnPass" "camera_loot,$DisableAll,,0,-1"
                "OnPass" "camera_main,$EnableAll,,0,-1"
                "OnPass" "cameratrain_main,Speed,400,0.001,-1"
                "OnPass" "cameratrain_main,StartForward,,0.001,-1"
				"origin" "288 4262 -10192"
			}
            path_track
			{
				"targetname"	"cameratrack_main_1"
				"target"		"cameratrack_main_2"
				"origin" "72 2212 -10284"
			}
            path_track
			{
				"targetname"	"cameratrack_main_2"
				"target"		"cameratrack_main_3"
				"origin" "137 1287 -10284"
			}
            path_track
			{
				"targetname"	"cameratrack_main_3"
				"target"		"cameratrack_main_4"
				"origin" "457 -932 -9845"
			}
            path_track
			{
				"targetname"	"cameratrack_main_4"
                "OnPass" "camera_boss,$EnableAll,,0,-1"
                "OnPass" "spawnbot_colossus,Enable,,0,-1"
                "OnPass" "middle_text,Display,,1,-1"
                "OnPass" "colossus_sound,PlaySound,,1.5,-1"
                "OnPass" "camera_*,$DisableAll,,6,-1"
                "OnPass" "spawnbot_timer,Enable,,6,-1"
                "OnPass" "player,SetHudVisibility,1,0,-1"
                "OnPass" "finale_music_start_relay,Trigger,,0,-1"
                //"OnPass" "finale_suspense_music,Volume,0,7,-1"
                //"OnPass" "finale_music,PlaySound,,7,-1"
                "OnPass" "crystalsign,Show,,7,-1"
                //"OnPass" "finale_music_2,PlaySound,,174,-1"
                "OnPass" "cameratrain_main,Speed,0,0,-1"
                "OnPass" "cameratrain_main,Stop,,0.001,-1"
				"origin" "350 -2166 -10300"
			}
            game_text
            {
              //"origin" "1984 1984 99999"
              "targetname" "middle_text"
              "message" "COLOSSUS"
              "x" "-1"
              "y" "0.45"
              "channel" "1"
              "spawnflags" "1"
              "color" "255 255 255"
              "fadein" "0.2"
              "fadeout" "1"
              "holdtime" "4.8"
            }
        }
        colossus_template
        {
            OnSpawnOutput
            {
                Target "!activator"
                Action $AddItemAttribute
                Param "is invisible|1|1"
            }
            OnSpawnOutput
            {
                Target "!activator"
                Action SetDamageFilter
                Param "filter_drown"
            }
            OnSpawnOutput
			{
				Target "colossus_target"
				Action SetParent
				Param "!activator"
				Delay 0.01
			}
            info_target
            {
                "targetname" "colossus_target"
            }
            info_target
            {
                "targetname" "colossus_target2"
                "origin" "0 0 800"
            }
            ambient_generic
            {
                "targetname" "colossus_tele_endsound"
                "health"     "7"
                "message"    "misc\halloween\merasmus_disappear.wav"
                "pitch"      "100"
                "pitchstart" "100"
                "radius"     "24000"
                "spawnflags" "48"
                "origin" "0 0 800"
            }
            ambient_generic
            {
                "targetname" "colossus_tele_endsound"
                "health"     "7"
                "message"    "\misc\halloween\merasmus_disappear.wav"
                "pitch"      "100"
                "pitchstart" "100"
                "radius"     "24000"
                "spawnflags" "48"
                "origin" "0 0 800"
            }
            ambient_generic
            {
                "targetname" "colossus_tele_startsound"
                "health"     "7"
                "message"    "weapons\physcannon\physcannon_charge.wav"
                "pitch"      "100"
                "pitchstart" "100"
                "radius"     "24000"
                "spawnflags" "48"
                "origin" "0 0 800"
            }
            ambient_generic
            {
                "targetname" "colossus_tele_startsound"
                "health"     "7"
                "message"    "weapons\physcannon\physcannon_charge.wav"
                "pitch"      "100"
                "pitchstart" "100"
                "radius"     "24000"
                "spawnflags" "48"
                "origin" "0 0 800"
            }
        }
        bumpercar_logic
        {
            OnSpawnOutput
            {
                Target "charge_checker"
                Action Trigger
                Delay 0.1
            }
            filter_tf_condition
			{
                "targetname" "filter_checkcond"
				"condition" "17" 
            	
                "OnPass"  "!activator,$RemoveCond,17,0,-1"
                "OnPass"  "!activator,$AddCond,82,0.001,-1"
                "OnPass"  "!activator,$AddCond,83,0.01,-1"
                "OnPass"  "!activator,$RemoveCond,78,0,-1"
                "OnPass"  "!activator,$RemoveCond,82,1.5,-1"
                "OnPass"  "!activator,$RemoveCond,83,1.49,-1"
            }
            logic_relay 
            {
                "targetname" "charge_checker"
                "spawnflags" "2"

                "OnTrigger" "!self,Trigger,,0.1,-1"  
                "OnTrigger" "filter_checkcond,TestActivator,!activator,0,-1"    
            }
        }
        rpg_shoottemplate
		{
			KeepAlive 1
            OnParentKilledOutput
			{
				Target "rpg_template_aliveness"
				Action Kill
				Delay  0.1
			}
            OnParentKilledOutput
			{
				Target "rpg_impact_sound"
				Action Kill
				Delay  0.1
			}
            OnParentKilledOutput
			{
				Target "rpg_impact_sound"
				Action PlaySound
				Delay  0.01
			}
            logic_relay
            {
                "targetname" "rpg_template_aliveness"
            }
			prop_dynamic
			{
				"targetname" "projectile"
				"DisableBoneFollowers" "1"
				"disableshadows" "1"
				"model" "models/empty.mdl"
				"solid" "0"
				"spawnflags" "0"
				"StartDisabled" "0"	

			}
            ambient_generic
            {
                "targetname" "rpg_impact_sound"            
                "health"     "4"
                "message"    "rpg_sounds/rpg_explode.wav"
                "pitch"      "100"
                "pitchstart" "100"
                "radius"     "11000"
                "spawnflags" "48"
                "StartDisabled" "0"
            }
            RemoveIfKilled "rpg_template_aliveness"
		}
        playerweapon_fix
		{
            OnSpawnOutput
			{
				Target "!activator"
				Action "$Regenerate"
			}
            OnSpawnOutput
	    	{
	    		Target "!activator"
	    		Action "$RemoveItemAttribute"
                Param "CARD: damage bonus|2"
	    		Delay 0.1
	    	}
		}
        powerup_knockout_logic
        {
            OnParentKilledOutput
            {
                Target "item_powerup_rune"
                Action Kill
            }
            OnSpawnOutput
            {
                Target "ubercond_checker"
                Action Trigger
                Delay 0.1
            }
            filter_tf_condition
            {
                "targetname" "filter_ubercond"
                "condition" "78"
                "OnPass" "!activator,$AddCond,103,0,-1"
                "OnPass" "!activator,$AddPlayerAttribute,max health additive bonus|565,0,-1"
                "OnFail" "!activator,$RemoveCond,103,0,-1"
                "OnFail" "!activator,$RemovePlayerAttribute,max health additive bonus,0,-1"
            }
            logic_relay 
            {
                "targetname" "ubercond_checker"
                "spawnflags" "2"

                "OnTrigger" "!self,Trigger,,0.1,-1"  
                "OnTrigger" "!activator,$RemoveCond,78,0,-1"
                "OnTrigger" "filter_ubercond,TestActivator,!activator,0,-1"  
            }
        }
        powerup_logic_critbuff_recipient
        {
            OnParentKilledOutput
            {
                Target "item_powerup_rune"
                Action Kill
            }
            OnSpawnOutput
            {
                Target "parentoutput_target"
                Action SetParent
                Param "!activator"
            }
            info_target
            {
                "targetname" "parentoutput_target"
                "$OnUser5" "recipient_counter,Add,1,0,-1"
                "$OnUser6" "recipient_counter,Subtract,1,0,-1"
            }
            math_counter
            {
                "targetname" "recipient_counter"
                "max" "9999"
                "outvalue" "countcompare,setvaluecompare,,0,-1"
            }
            logic_compare
            {
                "targetname" "countcompare"
                "onequalto" "!parent,$removecond,40,0,-1"
                "ongreaterthan" "!parent,$addcond,40,0,-1"
            }
        }
        crit_radius
        {
            KeepAlive 1
            OnParentKilledOutput
            {
                Target "crit_radius_brush"
                Action Disable
            }
            OnParentKilledOutput
            {
                Target "crit_radius_brush"
                Action Kill
                Delay 0.2
            }
            OnSpawnOutput
            {
                Target "crit_radius_brush"
                Action Enable
                Delay 0.2
            }
            trigger_multiple
			{
				"targetname" "crit_radius_brush"
                "filtername" "filter_bluteam"
				"spawnflags" "1"
                "StartDisabled" "1"
				"mins" "-225 -225 -450"
				"maxs" "225 225 450"
				"origin" "100 0 0"

                "onstarttouch" "@c@!activator,$fireuser5,,0,-1"
                "onendtouch" "@c@!activator,$fireuser6,,0,-1"
			}
            RemoveIfKilled "haste_radius_brush"
        }
        powerup_logic_hastebuff_recipient
        {
            OnParentKilledOutput
            {
                Target "item_powerup_rune"
                Action Kill
            }
            OnSpawnOutput
            {
                Target "parentoutput_target"
                Action SetParent
                Param "!activator"
            }
            info_target
            {
                "targetname" "parentoutput_target"
                "OnUser1" "recipient_counter,Add,1,0,-1"
                "OnUser2" "recipient_counter,Subtract,1,0,-1"
            }
            math_counter
            {
                "targetname" "recipient_counter"
                "max" "9999"
                "outvalue" "countcompare,setvaluecompare,,0,-1"
            }
            logic_compare
            {
                "targetname" "countcompare"
                "onequalto" "!parent,$removecond,91,0,-1"
                "ongreaterthan" "!parent,$addcond,91,0,-1"
            }
        }
        haste_radius
        {
            KeepAlive 1
            OnParentKilledOutput
            {
                Target "haste_radius_brush"
                Action Disable
            }
            OnParentKilledOutput
            {
                Target "haste_radius_brush"
                Action Kill
                Delay 0.2
            }
            OnSpawnOutput
            {
                Target "haste_radius_brush"
                Action Enable
                Delay 0.2
            }

            
            trigger_multiple
			{
				"targetname" "haste_radius_brush"
                "filtername" "filter_bluteam"
				"spawnflags" "1"
                "StartDisabled" "1"
				"mins" "-450 -450 -450"
				"maxs" "450 450 450"
				"origin" "100 0 0"

                "onstarttouch" "@c@!activator,fireuser1,,0,-1"
                "onendtouch" "@c@!activator,fireuser2,,0,-1"
			}
            RemoveIfKilled "haste_radius_brush"
        }
        amputator_template
        {
            KeepAlive 1
            OnSpawnOutput
            {
                Target "amputator_checker"
                Action Trigger
                Delay 0.1
            }
            OnParentKilledOutput
            {
                Target "amputator_radius_brush"
                Action Disable
            }
            OnParentKilledOutput
            {
                Target "amputator_radius_brush"
                Action Kill
                Delay 0.1
            }
            filter_tf_condition
            {
                "targetname" "filter_amputator"
                "condition" "56"
            }
            filter_multi
            {
                "targetname" "filter_amputator_taunting"
                "filter01" "filter_amputator"
				"filter02" "filter_taunting"
                "OnPass" "amputator_radius_brush,Enable,,0,-1"
                "OnFail" "amputator_radius_brush,Disable,,0,-1"
            }
            filter_tf_condition
			{
				"targetname" "filter_taunting"
				"Negated" "0"
				"condition" "7"
            }
            logic_relay 
            {
                "targetname" "amputator_checker"
                "spawnflags" "2"

                "OnTrigger" "!self,Trigger,,0.1,-1"  
                "OnTrigger" "filter_amputator_taunting,TestActivator,!activator,0,-1"    
                "OnTrigger" "filter_ampucrit,TestActivator,!activator,0,-1"    
            }
            trigger_multiple
			{
				"targetname" "amputator_radius_brush"
                "filtername" "filter_redteam"
				"spawnflags" "1"
                "StartDisabled" "1"
				"mins" "-450 -450 -450"
				"maxs" "450 450 450"
				"origin" "100 0 0"
                "OnStartTouch" "!activator,$AddCond,16,0,-1"
                "OnEndTouch" "!activator,$RemoveCond,16,0,-1"
			}
            RemoveIfKilled "amputator_radius_brush"
        }
        gunslinger_buff_fix
        {
            OnSpawnOutput
	    	{
	    		Target "!activator"
	    		Action "$RemoveItemAttribute"
                Param "damage bonus|0"
	    		Delay 0.1
	    	}
            OnSpawnOutput
	    	{
	    		Target "!activator"
	    		Action "$RemoveItemAttribute"
                Param "damage bonus|1"
	    		Delay 0.1
	    	}
            OnSpawnOutput
	    	{
	    		Target "!activator"
	    		Action "$RemoveItemAttribute"
                Param "damage bonus|2"
	    		Delay 0.1
	    	}
        }
        gunslinger_buff
        {   
            OnSpawnOutput
            {
                Target "pistol_checker"
	        	Action "Trigger"
	        	Delay 0.1
            }
            OnParentKilledOutput
	    	{
	    		Target "!activator"
	    		Action "$RemoveItemAttribute"
                Param "damage bonus|0"
	    		Delay 0.1
	    	}
            OnParentKilledOutput 
	    	{
	    		Target "!activator"
	    		Action "$RemoveItemAttribute"
                Param "damage bonus|1"
	    		Delay 0.1
	    	}
            OnParentKilledOutput 
	    	{
	    		Target "!activator"
	    		Action "$RemoveItemAttribute"
                Param "damage bonus|2"
	    		Delay 0.1
	    	}

  	    	filter_tf_condition
	    	{
	    		"targetname" "filter_has_pistol"
	    		"Negated" "0"
	    		"condition" "130"

                "OnPass" "!activator,$AddItemAttribute,damage bonus|1.65|0,0,-1" 
                //"OnPass" "!activator,$AddItemAttribute,damage bonus|1|1,0,-1" //no pistol damage bonus
                "OnPass" "!activator,$AddItemAttribute,damage bonus|2|2,0,-1"
                "OnFail" "!activator,$AddItemAttribute,damage bonus|1.65|0,0,-1"
                "OnFail" "!activator,$AddItemAttribute,damage bonus|1.65|1,0,-1"
                "OnFail" "!activator,$AddItemAttribute,damage bonus|2|2,0,-1" 
	    	}
    
            logic_relay 
            {
              "targetname" "pistol_checker"
              "OnTrigger" "filter_has_pistol,TestActivator,!activator,0,-1"
            } 	
        }
        pistol_equipped
        {
            OnSpawnOutput
	    	{
	    		Target "!activator"
	    		Action "$RemoveItemAttribute"
                Param "damage bonus|1"
	    		Delay 0.1
	    	}
            OnSpawnOutput
            {
                Target "!activator"
	        	Action "$AddCond"
                Param "130"
            } 
        }
        gately_gibus_wearer
        {
            OnParentKilledOutput
            {
                Target "@c@!activator"
                Action Kill
            }
        }
        potiontosser_logic
        {
            NoFixup 1
            logic_relay
            {
                "targetname" "switch_to_melee"

                "OnTrigger" "!activator,$WeaponSwitchSlot,2,0,-1"
                "OnTrigger" "!activator,$AddPlayerAttribute,disable weapon switch|1,0.01,-1" 
            }

            logic_relay
            {
                "targetname" "switch_to_potion"
            
                "OnTrigger" "!activator,$RemovePlayerAttribute,disable weapon switch,0,-1" 
                "OnTrigger" "!activator,$WeaponSwitchSlot,1,0.1,-1"
                "OnTrigger" "!activator,$AddPlayerAttribute,disable weapon switch|1,0.11,-1" 
                "OnTrigger" "!activator,$RemovePlayerAttribute,disable weapon switch,1.2,-1" 
            }
            logic_case
            {
                "targetname" "choose_potion_effect"

                "OnCase01" "!activator,$ChangeAttributes,Cond_Minicrit,0,-1"
                "OnCase02" "!activator,$ChangeAttributes,Cond_Bombhead,0,-1"
                "OnCase03" "!activator,$ChangeAttributes,Cond_AmpuTaunt,0,-1"
                "OnCase04" "!activator,$ChangeAttributes,Cond_Gravity,0,-1"
                "OnCase05" "!activator,$ChangeAttributes,Cond_Swim,0,-1"
                "OnCase06" "!activator,$ChangeAttributes,Cond_Gas,0,-1"
            }
        }
        bonk_bulletvac_logic
        {
            OnSpawnOutput
            {
                Target "bonkcond_checker"
                Action Trigger
                Delay 0.1
            }
            filter_tf_condition
            {
                "targetname" "filter_bonkcond"
                "condition" "78"
                "OnPass" "!activator,$AddCond,58,0,-1"
                "OnPass" "!activator,$AddPlayerAttribute,dmg taken from bullets reduced|.25,0,-1"
                "OnFail" "!activator,$RemoveCond,58,0,-1"
                "OnFail" "!activator,$RemovePlayerAttribute,dmg taken from bullets reduced,0,-1"
            }
            logic_relay 
            {
                "targetname" "bonkcond_checker"
                "spawnflags" "2"

                "OnTrigger" "!self,Trigger,,0.1,-1"
                "OnTrigger" "filter_bonkcond,TestActivator,!activator,0,-1"  
            }
        }
        spellbook_bot_init
        {
            OnSpawnOutput
            {
                Target "!activator"
                Action "$TeleportToEntity"
                Param "spawnbot_spell"
            }
        }
        spellbook_bot_init_flanker
        {
            OnSpawnOutput
            {
                Target "!activator"
                Action "$TeleportToEntity"
                Param "spawnbot_spell"
            }
            OnSpawnOutput
            {
                Target "!activator"
                Action "$TeleportToEntity"
                Param "flankers"
                Delay 0.2
            }
        }
        regen_particle_template
        {
            info_particle_system
            {
        	    "start_active" "1"
        	    "flag_as_weather" "0"
        	    "effect_name" "medic_healradius_blue_buffed"
            }
        }
        hellspawn_particle_template
        {
            OnSpawnOutput
            {
                Target "hellspawn_particle"
                Action Kill
                Delay 1
            }
            info_particle_system
            {
                "targetname" "hellspawn_particle"
        	    "start_active" "1"
        	    "flag_as_weather" "0"
        	    "effect_name" "utaunt_arcane_purple_parent"
            }
        }
        Combo_Pyro 
        {
            NoFixup 1

            logic_relay
            {
                "targetname" "combo_primary_to_secondary"
                "spawnflags" "2"

                "OnTrigger" "!self,EnableRefire,,0,-1"
                "OnTrigger" "!activator,$RemoveItemAttribute,fire input on hit|0,0,-1" 
                "OnTrigger" "!activator,$WeaponSwitchSlot,1,0,-1"
                "OnTrigger" "!activator,$AddPlayerAttribute,disable weapon switch|1,0.01,-1" 
                "OnTrigger" "!activator,$RemovePlayerAttribute,disable weapon switch,0.6,-1" 
                "OnTrigger" "!activator,$WeaponSwitchSlot,0,0.61,-1"
                "OnTrigger" "!activator,$AddItemAttribute,fire input on hit|combo_primary_to_secondary^Trigger^|0,0.62,-1"
            }

            logic_relay
            {
                "targetname" "combo_primary_to_secondary_longhold"
                "spawnflags" "2"

                "OnTrigger" "!self,EnableRefire,,0,-1"
                "OnTrigger" "!activator,$RemoveItemAttribute,fire input on hit|0,0,-1" 
                "OnTrigger" "!activator,$WeaponSwitchSlot,1,0,-1"
                "OnTrigger" "!activator,$AddPlayerAttribute,disable weapon switch|1,0.01,-1" 
                "OnTrigger" "!activator,$RemovePlayerAttribute,disable weapon switch,1.5,-1" 
                "OnTrigger" "!activator,$WeaponSwitchSlot,0,1.51,-1"
                "OnTrigger" "!activator,$AddItemAttribute,fire input on hit|combo_primary_to_secondary_longhold^Trigger^|0,1.52,-1"
            }
        }
        blimp_skele
		{
			NoFixup 1
			prop_dynamic
			{
				"targetname" "kevin"
				"DefaultAnim" "taunt_russian"
				"DisableBoneFollowers" "1"
				"disableshadows" "1"
				"modelscale" "0.4"
				"skin" "6"
				"solid" "0"
                "angles" "0 180 0"
				"origin" "-9711 -1989 -5819"
				"model" "models/bots/skeleton_sniper/skeleton_sniper.mdl"
			}
		}
        skeletank
		{
			OnSpawnOutput
			{
				Target "!activator"
				Action "color"
				Param "108 101 84"
			}
            OnSpawnOutput
			{
				Target "!activator"
				Action "DisableShadow"
			}
            prop_dynamic
			{
				"targetname" "skullhat"
				"disableshadows" "1"
				"model" "models/passtime/skull/passtime_skull.mdl"
                "origin" "-47 -13 163"
                "angles" "0 90 -30"
				"modelscale" "7"
			}
            info_target
            {
                "targetname" "skeleton_target"
                "origin" "0 0 170"
            }
            //"-1531 -1528 289"
            //"-1578 -1541 452"
        }
        ghosttank
		{
			OnSpawnOutput
			{
				Target "!activator"
				Action "color"
				
				//Change to any RGB value
				Param "203 255 203"
			}
            OnSpawnOutput
			{
				Target "!activator"
				Action "DisableShadow"
			}
            OnSpawnOutput
            {
				Target  "!activator"
				Action  "Alpha"
				Param   "120"
            }
            OnSpawnOutput
            {
				Target  "!activator"
				Action  "AddOutput"
				Param   "rendermode 5"
            }
            prop_dynamic
			{
				"targetname" "ghosthat"
				"disableshadows" "1"
				"model" "models/workshop/player/items/all_class/hw2013_the_haunted_hat/hw2013_the_haunted_hat_medic.mdl"
                "origin" "-47 0 4"
                "angles" "-90 0 0"
				"modelscale" "2"
               //"lightingorigin" "in_a_rock"
			}
        }
        spidertank_color
		{
			OnSpawnOutput
			{
				Target "!activator"
				Action "color"
				Param "0 0 0"
			}
            OnSpawnOutput
			{
				Target "!activator"
				Action "DisableShadow"
			}
        }
        underworld_spawn_logic
        {
            NoFixup 1
            trigger_multiple
			{
				"targetname" "underworld_main_spawn_trigger"
                "filtername" "filter_redteam"
				"spawnflags" "1"
                "StartDisabled" "0"
				"mins" "-4160 -4215 -1216"
				"maxs" "4160 4215 1216"
				"origin" "64 -18.27 -9344"

                "onstarttouchall" "spawnbot_underworld_main*,Enable,,0,-1"
                "onendtouchall" "spawnbot_underworld_main*,Disable,,0,-1"
                "onendtouchall" "skeleton_main*,$Suicide,,0.1,-1"
			}
            trigger_multiple
			{
				"targetname" "underworld_loot_spawn_trigger"
                "filtername" "filter_redteam"
				"spawnflags" "1"
                "StartDisabled" "0"
				"mins" "-5216 -2720 -1216"
				"maxs" "5216 2720 1216"
				"origin" "544 5536 -9344"

                "onstarttouchall" "spawnbot_underworld_loot*,Enable,,0,-1"
                "onendtouchall" "spawnbot_underworld_loot*,Disable,,0,-1"
                "onendtouchall" "skeleton_loot*,$Suicide,,5.1,-1"
			}
        }
        underworld_skeleton_main
        {
            OnSpawnOutput
            {
                Target "!activator"
                Action AddOutput
                Param "targetname skeleton_main"
            }
            OnParentKilledOutput
            {
                Target "!activator"
                Action AddOutput
                Param "targetname "
            }
        }
        underworld_skeleton_loot
        {
            OnSpawnOutput
            {
                Target "!activator"
                Action AddOutput
                Param "targetname skeleton_loot"
            }
            OnParentKilledOutput
            {
                Target "!activator"
                Action AddOutput
                Param "targetname "
            }
        }
        underworld_coffin_lighting
        {
            info_target
            {
                "targetname" "coffin_lighting"
                "origin" "260 6647 -10126"
            }
        }
        underworld_coffin
        {
            func_tracktrain
			{
				"targetname" "coffintrain"
				"mins" "-1 -1 -1"
				"maxs" "1 1 1"
				"disableshadows" "1"
				"rendermode" "10"
                "speed" "100"
				"spawnflags" "640"
				"target" "coffintrack_1"
			}
            prop_dynamic
            {
                "targetname" "coffin"
                "origin" "0 130 -54"
                "angles" "0 90 -90"
                "disableshadows" "1"
                "model" "models/props_viaduct_event/coffin_simple_closed.mdl"
                "parentname" "coffintrain"
                "modelscale" "2"
                "lightingorigin" "underworld_moving_1"
            }
            prop_dynamic
            {
                "origin" "-20 150 -38"
                "angles" "0 180 -90"
                "disableshadows" "1"
                "rendermode" "10"
                "renderfx" "6"
                "solid" "2"
                "model" "models/props_urban/urban_crate002.mdl"
                "parentname" "coffintrain"
            }
            prop_dynamic
            {
                "origin" "-70 150 -38"
                "angles" "0 180 -90"
                "disableshadows" "1"
                "rendermode" "10"
                "renderfx" "6"
                "solid" "2"
                "model" "models/props_urban/urban_crate002.mdl"
                "parentname" "coffintrain"
            }
            prop_dynamic
            {
                "origin" "-134 150 -38"
                "angles" "0 180 -90"
                "disableshadows" "1"
                "rendermode" "10"
                "renderfx" "6"
                "solid" "2"
                "model" "models/props_urban/urban_crate002.mdl"
                "parentname" "coffintrain"
            }
            prop_dynamic
            {
                "origin" "-205 150 -38"
                "angles" "0 180 -90"
                "disableshadows" "1"
                "rendermode" "10"
                "renderfx" "6"
                "solid" "2"
                "model" "models/props_urban/urban_crate002.mdl"
                "parentname" "coffintrain"
            }
            info_particle_system
            {
                "start_active" "1"
                "origin" "-33 132 -75"
                "parentname" "coffintrain"
                "effect_name" "utaunt_arcane_purple_lights"
            }
            info_particle_system
            {
                "start_active" "1"
                "origin" "-87 132 -75"
                "parentname" "coffintrain"
                "effect_name" "utaunt_arcane_purple_lights"
            }
            info_particle_system
            {
                "start_active" "1"
                "origin" "-145 132 -75"
                "parentname" "coffintrain"
                "effect_name" "utaunt_arcane_purple_lights"
            }
            info_particle_system
            {
                "start_active" "1"
                "origin" "-199 132 -75"
                "parentname" "coffintrain"
                "effect_name" "utaunt_arcane_purple_lights"
            }
        }
        underworld_coffin_track
        {
            NoFixup 1
			path_track
			{
				"targetname"	"coffintrack_1"
				"target"		"coffintrack_2"
				"origin" "694 5987 -9694"
			}
			path_track
			{
				"targetname"	"coffintrack_2"
				"target"		"coffintrack_3"
				"origin" "-594 5987 -9694"
			}
            
			path_track
			{
				"targetname"	"coffintrack_3"
				"target"		"coffintrack_4"
				"origin" "-594 4886 -9629"
			}
			path_track
			{
				"targetname"	"coffintrack_4"
				"target"		"coffintrack_1"
				"origin" "694 4886 -9629"
			}
        }
        donotrunoffdummies
        {
            NoFixup 1
            logic_relay
            {
                "onspawn" "pop_interface,RecomputeBlockers,,0,-1"
            }
            //Loot 1
            func_nav_avoid
            {
                "targetname" "hellion_avoid"
                "mins" "-369 -182 -244"
                "maxs" "369 182 244"
                "origin" "615 4638 -10354"
            }
            func_nav_avoid
            {
                "targetname" "hellion_avoid"
                "mins" "-252 -128 -244"
                "maxs" "252 128 244"
                "origin" "31 4671 -10354"
            }
            func_nav_avoid
            {
                "targetname" "hellion_avoid"
                "mins" "-223 -157 -244"
                "maxs" "223 157 244"
                "origin" "-254 4544 -10354"
            }
            func_nav_avoid
            {
                "targetname" "hellion_avoid"
                "mins" "-145 -444 -244"
                "maxs" "145 444 244"
                "origin" "-462 4012 -10354"
            }
            func_nav_avoid
            {
                "targetname" "hellion_avoid"
                "mins" "-101 -540 -244"
                "maxs" "101 540 244"
                "origin" "909 1065 -10354"
            }
            //Loot 2
            func_nav_avoid
            {
                "targetname" "hellion_avoid"
                "mins" "-355 -98 -244"
                "maxs" "355 98 244"
                "origin" "401 6139 -10354"
            }
            func_nav_avoid
            {
                "targetname" "hellion_avoid"
                "mins" "-157 -156 -244"
                "maxs" "157 156 244"
                "origin" "-40 5903 -10354"
            }
            func_nav_avoid
            {
                "targetname" "hellion_avoid"
                "mins" "-303 -45 -244"
                "maxs" "303 45 244"
                "origin" "605 5698 -10354"
            }
            
        }
        Stickybomb_Flicker_Particle
        {
            OnSpawnOutput
	    	{
	    		Target "sticky_flicker"
	    		Action "Kill"
	    		Delay 1.6
	    	}
            OnSpawnOutput
	    	{
	    		Target "sound_flechette_preexplode"
	    		Action Volume
                Param "0"
	    		Delay 1.6
	    	}
            OnSpawnOutput
	    	{
	    		Target "sound_flechette_preexplode"
	    		Action "Kill"
	    		Delay 2
	    	}
            OnSpawnOutput
            {
                Target "sound_flechette_preexplode"
                Action PlaySound
            }

            info_particle_system
            {
                "targetname" "sticky_flicker"
                "effect_name" "utaunt_merasmus_fire"
                "flag_as_weather" "0"
                "start_active" "1"
            }
            ambient_generic
            {
                "targetname" "sound_flechette_preexplode"            
                "health"     "4"
                "message"    "misc/halloween/merasmus_float.wav"
                "pitch"      "100"
                "pitchstart" "100"
                "radius"     "7000"
                "spawnflags" "48"
                "origin"     "0 0 0"
            }
        }
        Explosion_Particle
        {
            OnSpawnOutput
	    	{
	    		Target "explosion_particle"
	    		Action "Kill"
	    		Delay 1
	    	}
            OnSpawnOutput
	    	{
	    		Target "sound_flechette_explode"
	    		Action "Kill"
	    		Delay 1
	    	}
            OnSpawnOutput
            {
                Target "sound_flechette_explode"
                Action PlaySound
            }
            info_particle_system
            {
                "targetname" "explosion_particle"
                "effect_name" "merasmus_object_spawn"
                "flag_as_weather" "0"
                "start_active" "1"
            }
            ambient_generic
            {
                "targetname" "sound_flechette_explode"            
                "health"     "4"
                "message"    "misc/halloween/merasmus_spell.wav"
                "pitch"      "100"
                "pitchstart" "100"
                "radius"     "7000"
                "spawnflags" "48"
                "origin"     "0 0 0"
                
            }
        }
        setspot
        {
            NoFixup 1
            info_target
            {
                "targetname" "detonate_position"
                "origin" "30 0 0"
                "OnUser1" "explosive_tip_killed_relay,Kill,,0,-1"
            }
        }
        Explosive_Tip
        {
            KeepAlive 1
            OnSpawnOutput
            {
                Target "explosive_tip_spawned_relay"
                Action Trigger
            }
            OnSpawnOutput
            {
                Target "templatekiller_relay"
                Action Trigger
                Delay 0.01
            }
            OnParentKilledOutput
            {
                Target "explosive_tip_goaway"
                Action Disable
            }
            OnParentKilledOutput
            {
                Target "explosive_tip_killed_relay"
                Action Trigger
            }
            logic_relay
            {
                "targetname" "explosive_tip_goaway"
                "OnTrigger" "explosive_tip_killed_relay,Kill,,0,-1"
            }
            logic_relay
            {
                "targetname" "explosive_tip_spawned_relay"
                "OnTrigger" "explosion_hitbox,$InheritOwner,!activator,0.01,-1"
                "OnTrigger" "explosion_hitbox,$InheritOwner2,!activator,0.01,-1"
                "OnTrigger" "@c@!activator,ClearParent,,0,-1"
                "OnTrigger" "detonate_position,SetParent,!activator,0.010,-1"
                "OnTrigger" "attach_to_enemy,SetParent,!activator,0.01,-1"
            }
            logic_relay
            {
                "targetname" "explosive_tip_killed_relay"
                "OnTrigger" "!self,Kill,,2,-1"
                "OnTrigger" "explosion_hitbox,Enable,,1.6,-1"
                "OnTrigger" "explosion_hitbox2,Enable,,1.6,-1"
                "OnTrigger" "sticky_flicker_maker,ForceSpawnAtEntityOrigin,detonate_position,0,-1"
                "OnTrigger" "explosion_maker,ForceSpawnAtEntityOrigin,detonate_position,1.6,-1"
                "OnUser1" "!self,Kill,,0,-1"
            }  
            info_target
            {
                "targetname" "detonate_position"
                "origin" "30 0 0"
                "OnUser1" "explosive_tip_killed_relay,Kill,,0,-1"
            } 
            logic_measure_movement 
            {
                "targetname" "measure_movement_targetname"
                "MeasureReference" "detonate_position"
                "MeasureTarget" "detonate_position"
                "MeasureType" "0"
                "Target" "explosion_hitbox"
                "TargetReference" "detonate_position"
                "TargetScale" "1"
            }
            logic_measure_movement 
            {
                "targetname" "measure_movement_targetname"
                "MeasureReference" "detonate_position"
                "MeasureTarget" "detonate_position"
                "MeasureType" "0"
                "Target" "explosion_hitbox2"
                "TargetReference" "detonate_position"
                "TargetScale" "1"
            }
            trigger_hurt
            {
                "targetname" "attach_to_enemy"
                "origin" "30 0 0"
                "mins" "-3 -3 -3"
                "maxs" "3 3 3"
                "Damage" "0"
                "spawnflags" "1" 
                "filtername" "filter_redteam"

                "OnStartTouch" "detonate_position,SetParent,!activator,0.01,-1"
                "OnStartTouch" "!self,Disable,,0,-1"
            }
            trigger_hurt
            {
                "targetname" "explosion_hitbox"
                "mins" "-144 -144 -144"
                "maxs" "144 144 144"
                "Damage" "100"
                "spawnflags" "1" 
                "filtername" "filter_redteam"
                "choices" "64" //blast damage type
                "StartDisabled" "1"
            }
            trigger_hurt
            {
                "targetname" "explosion_hitbox2"
                "mins" "-145 -145 -145"
                "maxs" "145 145 145"
                "Damage" "100"
                "filtername" "filter_buildings"
                "spawnflags" "64"
                "choices" "64" //blast damage type
                "StartDisabled" "1" 
            }
            RemoveIfKilled "explosive_tip_killed_relay"
        }
        Explosive_Tip_Logic
        {
            NoFixup 1
            logic_relay
            {
                "targetname" "templatekiller_relay"
                "StartDisabled" "1"
                "OnTrigger" "explosive_tip_goaway*,Trigger,,0,-1"
            }
            env_entity_maker
            {
                "targetname" "sticky_flicker_maker"
                "EntityTemplate" "Stickybomb_Flicker_Particle"
            }
            env_entity_maker
            {
                "targetname" "explosion_maker"
                "EntityTemplate" "Explosion_Particle"
            }
            filter_activator_class
            {
                "targetname" "filter_dispenser"
                "filterclass" "obj_dispenser"
                "negated" "0"
            }
            filter_activator_class
            {
                "targetname" "filter_sentry"
                "filterclass" "obj_sentrygun"
                "negated" "0"
            }
            filter_activator_class
            {
                "targetname" "filter_tele"
                "filterclass" "obj_teleporter"
                "negated" "0"
            }
            filter_multi
            {
                "targetname" "filter_buildings"
                "filtertype" "1"
                "filter01" "filter_sentry"
				"filter02" "filter_dispenser"
                "filter03" "filter_tele"
            }
        }
        spectralguntracks
		{
			NoFixup 1
			path_track
			{
				"targetname"	"launchtrack_1"
				"target"		"launchtrack_2"
				"origin" "443 7363 -10245"
			}
			path_track
			{
				"targetname"	"launchtrack_2"
				"target"		"launchtrack_3"
				"origin" "300 6500 -9788"
			}
            
			path_track
			{
				"targetname"	"launchtrack_3"
				"target"		"launchtrack_4"
				"origin" "-1882 2760 -9280"
                "OnPass" "launchertrain*,SetSpeed,0.5"
			}
            path_track
			{
				"targetname"	"launchtrack_4"
				"target"		"launchtrack_5"
				"origin" "-1100 1510 -9280"
			}
			path_track
			{
				"targetname"	"launchtrack_5"
				"target"		"launchtrack_6"
				"origin" "909 1510 -9280"
			}
			path_track
			{
				"targetname"	"launchtrack_6"
				"target"		"launchtrack_7"
				"origin" "2101 2472 -9280"
                "OnPass" "launchertrain*,SetSpeed,1"
			}
			path_track
			{
				"targetname"	"launchtrack_7"
				"target"		"launchtrack_8"
				"origin" "588 6682 -9280"
			}
			path_track
			{
				"targetname"	"launchtrack_8"
				"target"		"launchtrack_2"
                "onpass" "launcherui*,deactivate,,0,-1"
                "onpass" "launcher_aliveness*,kill,,0.15,-1"
                "onpass" "crystal_prop,enable,,0,-1"
                "onpass" "crystal_particle,Start,,0,-1"
                "onpass" "crystal_teamflag,enable,,0,-1"
                "onpass" "crystalresetsign,Show,,0,-1"
                "onpass" "crystalinfo,enable,,0,-1"
				"origin" "279 7234 -10245"
			}
		}
        crystalcapture
        {
            NoFixup 1
            logic_relay
			{
				"onspawn" "crystal_prop,SetParent,crystal_teamflag,0.1,-1"
			}
            logic_relay
            {
                "targetname" "crystal_reset_relay"
                "OnTrigger" "crystal_teamflag,ForceResetSilent,,30,-1"
                "OnTrigger" "crystalresetsign,Show,,30,-1"
            }
            training_annotation
            {
              "targetname"   "crystalresetsign"
              "display_text" "The crystal has reset!"
              "lifetime"     "4"
              "origin" "124 1677 -10386"   
            }
            training_annotation
            {
              "targetname"   "crystalsign"
              "display_text" "Bring the crystal to the booth for a ride in the spectral gun!"
              "lifetime"     "20"
              "origin" "551 7386 -10041"
            }
			item_teamflag
			{
				"targetname" "crystal_teamflag"
				"angles" "0 180 0"
                "origin" "124 1677 -10386"
                
				"flag_icon" "../hud/objectives_flagpanel_carried"
				//"flag_model" "models/flag/briefcase.mdl"       
				"flag_model" "models/empty.mdl"
                "flag_paper" "player_intel_papertrail"					
				"flag_trail" "flagtrail"		
				"GameType" "1"
				"ReturnBetweenWaves" "1"
                "ReturnTime" "15"
				"ScoringType" "0"
				"StartDisabled" "0"
				"TeamNum" "2"	
				"trail_effect" "1"
                "OnPickup" "crystal_reset_relay,CancelPending,,0,-1"
                "OnPickup" "crystal_reset_relay,Trigger,,0.001,-1"
                "OnDrop" "crystal_reset_relay,CancelPending,,0,-1"
                "OnReturn" "crystal_reset_relay,CancelPending,,0,-1"
                "OnReturn" "crystalresetsign,Show,,0,-1"
			}
            tf_glow
            {
                "targetname" "crystal_glow"
                "GlowColor" "178 102 255 205"
	            "target" "crystal_prop"
            }  
            prop_dynamic
            {
				"origin" "124 1677 -10374"
	            "targetname" "crystal_prop"
	            "spawnflags" "0"
	            "solid" "0"
	            "rendercolor" "255 255 255"
	            "renderamt" "255"
	            "RandomAnimation" "0"
	            "pressuredelay" "0"
	            "physdamagescale" "1.0"
	            "PerformanceMode" "0"
	            "modelscale" "1.8"
	            "model" "models/props_moonbase/moon_gravel_crystal_red.mdl"
	            "MinAnimTime" "5"
	            "MaxAnimTime" "10"
	            "body" "0"
	            "angles" "-90 0 -90"
				"StartDisabled" "0"
            }
            info_particle_system
            {
                "targetname" "crystal_particle"
                "effect_name" "unusual_circling_spell_purple_parent"
                "flag_as_weather" "0"
                "start_active" "1"
                "parentname" "crystal_prop"
                "origin" "124 1677 -10374"
            }
            env_entity_maker
            {
                "origin" "443 7363 -10245"
                "targetname" "spectralgun_maker"
                "EntityTemplate" "spectralgun"
            }
            trigger_multiple
            {
                "mins" "-66 -47 -34"				
				"maxs" "66 47 34"
                "origin" "457 7368 -10217"
				"spawnflags" "1"
                "OnStartTouch" "crystalinfo,Display,,0,-1"
            }
            game_text
			{
				"targetname" "crystalinfo"
				"color" "255 0 255"
				"color2" "255 0 255"
				"fadein" "0.5"
				"fadeout" "0.5"
				"holdtime" "6"
				"x" "-1"
				"y" "0.2"
				"message" "Bring forth a crystal and Merasmus will grant you a gift"
			}
            func_flagdetectionzone					
			{
				"mins" "-67 -48 -35"
				"maxs" "67 48 35"
                "origin" "457 7368 -10217"
				"spawnflags" "1"
				
                "OnStartTouchFlag" "spectralgun_maker,ForceSpawn,,0,-1"
                "OnStartTouchFlag" "crystal_reset_relay,CancelPending,,0,-1"
				"OnStartTouchFlag" "crystal_teamflag,ForceResetAndDisableSilent,,0,-1"
				"OnStartTouchFlag" "crystal_particle,Stop,,0,-1"
                "OnStartTouchFlag" "crystal_prop,Disable,,0,-1"
                //"OnStartTouchFlag" "!activator,$DisplayTextChat,yourethecapper,0,-1"
                "OnStartTouchFlag" "crystalinfo,Disable,,0,-1"
                
                "OnStartTouchFlag" "!activator,$AddCond,51,0.1,-1"
                "OnStartTouchFlag" "!activator,AddOutput,targetname inlauncher,0.1,-1"
                "OnStartTouchFlag" "launchermove*,SetMeasureTarget,inlauncher,0.11,-1"
                "OnStartTouchFlag" "launcherui*,Activate,,0.1,-1"
                "OnStartTouchFlag" "launchercam*,Enable,,0.1,-1"
                "OnStartTouchFlag" "launcherbuildingmaker*,ForceSpawn,,0.1,-1"
                "OnStartTouchFlag" "launcherprop_wep*,Enable,,0.1,-1"
                "OnStartTouchFlag" "launcherparticle*,Start,,0.1,-1"
                "OnStartTouchFlag" "!activator,SetModelScale,0.1001,0,-1"
                "OnStartTouchFlag" "classfilters*,TestActivator,,0.1,-1"
                "OnStartTouchFlag" "launcherofftele*,Teleport,,0.1,-1"
                "OnStartTouchFlag" "launchershoot*,$setowner,!activator,0.1,-1"
                "OnStartTouchFlag" "minimimic*,$setowner,!activator,0.1,-1"
			}
            info_particle_system
            {
                "targetname" "capzone_particle"
                "effect_name" "utaunt_arcane_purple_base"
                "flag_as_weather" "0"
                "start_active" "1"
                "origin" "433 7367 -10245"
            }
            info_particle_system
            {
                "targetname" "crystalflag_particle"
                "effect_name" "utaunt_arcane_purple_base"
                "flag_as_weather" "0"
                "start_active" "1"
                "origin" "124 1677 -10387"
            }
            prop_dynamic
            {
                "angles" "0 100 0"
	            "model" "models/props_halloween/fortune_teller_narrow_full.mdl"
	            "modelscale" "0.2"
	            "solid" "6"
	            "StartDisabled" "0"
	            "targetname" "capzone_prop"
	            "origin" "444 7435 -10250"
            }
            prop_dynamic
            {
                "angles" "0 190 0"
	            "model" "models/bots/merasmus/merasmas_misfortune_teller.mdl"
	            "modelscale" "0.2"
	            "solid" "6"
	            "targetname" "capzone_prop"
	            "origin" "551 7386 -10241"
            }
            prop_dynamic
            {
                "angles" "0 285 0"
	            "model" "models/props_forest/cliff_wall_09a.mdl"
	            "modelscale" "1.8"
	            "solid" "6"
	            "targetname" "capzone_prop"
                "origin" "552 7385 -10125"
            }
            prop_dynamic
            {
                "angles" "-14.4775 285.504 -3.96713"
	            "model" "models/props_forest/cliff_wall_02c.mdl"
	            "modelscale" "0.5"
	            "solid" "6"
	            "targetname" "capzone_prop"
	            "origin" "544 7291 -10243.6"
            }
            prop_dynamic
            {
                "angles" "-13.8439 184.308 -19.4263"
	            "model" "models/props_forest/cliff_wall_07.mdl"
	            "modelscale" "1"
	            "solid" "6"
	            "targetname" "capzone_prop"
	            "origin" "535 7536 -10243.6"
            }
            prop_dynamic
            {
                "angles" "-13.8439 19.308 -19.4263"
	            "model" "models/props_forest/cliff_wall_07.mdl"
                "rendermode" "10"
	            "modelscale" "1"
	            "solid" "6"
	            "targetname" "capzone_collision"
	            "origin" "590 7230 -10228"
            }
            prop_dynamic
            {
                "angles" "-16.3227 275.688 106.765"
	            "model" "models/props_forest/cliff_wall_07.mdl"
                "rendermode" "10"
	            "modelscale" "1"
	            "solid" "6"
	            "targetname" "capzone_collision"
	            "origin" "616 7380 -10113"
            }
            prop_dynamic
            {
                "angles" "0 100 0"
	            "model" "models/props_hydro/barrel_crate.mdl"
                "rendermode" "10"
	            "modelscale" "1"
	            "solid" "6"
	            "targetname" "capzone_collision"
	            "origin" "532 7384 -10247"
            }
            trigger_teleport
            {
                "targetname" "teleport_capzone_failsafe"
	            "target" "teleport_capzone_failsafe_destination"
	            "StartDisabled" "0"
	            "spawnflags" "1"
	            "origin" "601 7396 -10182"
                "mins" "-50 -48 -58"
                "maxs" "50 48 58"
	            "filtername" "filter_redteam"
            }
            info_target
            {
                "targetname" "teleport_capzone_failsafe_destination"
                "origin" "279 7234 -10145"
            }
        }
        colossus_attacks //logic taken from royal
        {
            NoFixup 1
            logic_case
            {
                "targetname" "randomattack"
        
                "oncase01" "homing_attack,Trigger,,0,-1"
                "oncase02" "flare_attack,Trigger,,0,-1"
                "oncase03" "explosivetip_attack,Trigger,,0,-1"
                "oncase04" "bigbullet_attack,Trigger,,0,-1"
            }
            logic_relay
            {
                "targetname" "attack_transition"

                "OnTrigger" "!activator,$AddItemAttribute,is invisible|1|1,0,-1"
                "OnTrigger" "!activator,$RefillAmmo,,0,-1"
                "OnTrigger" "!activator,$RemoveItemAttribute,mod projectile heat seek power|0,0,-1"
                "OnTrigger" "!activator,$RemoveItemAttribute,mod projectile heat aim error|0,0,-1"
                "OnTrigger" "!activator,$RemoveItemAttribute,mod projectile heat aim time|0,0,-1"
                "OnTrigger" "!activator,$RemoveItemAttribute,arrow mastery|0,0,-1"
                "OnTrigger" "!activator,$RemoveItemAttribute,override projectile type|0,0,-1"
                "OnTrigger" "!activator,$RemoveItemAttribute,mult projectile count|0,0,-1"
                "OnTrigger" "!activator,$RemoveItemAttribute,projectile spread angle penalty|0,0,-1"
                "OnTrigger" "!activator,$RemoveItemAttribute,projectile speed increased|0,0,-1"
                "OnTrigger" "!activator,$RemoveItemAttribute,arrow hit kill time|0,0,-1"
                "OnTrigger" "!activator,$RemoveItemAttribute,projectile trail particle|0,0,-1"
                "OnTrigger" "!activator,$RemoveItemAttribute,damage penalty|0,0,-1"
                "OnTrigger" "!activator,$WeaponSwitchSlot,0,0,-1"
                "OnTrigger" "templatekiller_relay,Enable,,0,-1"
                "OnTrigger" "templatekiller2_relay,Enable,,0,-1"
            }
            logic_relay
            {
                "targetname" "homing_attack"
                //"OnTrigger" "player,$DisplayTextChat,homing attack,0,-1"
                "OnTrigger" "attack_transition,Trigger,,0,-1"
                
                "OnTrigger" "!activator,$WeaponSwitchSlot,0,0.03,-1"
                "OnTrigger" "!activator,$AddItemAttribute,mod projectile heat seek power|15|0,0.01,-1"
                "OnTrigger" "!activator,$AddItemAttribute,mod projectile heat aim error|30|0,0.01,-1"
                "OnTrigger" "!activator,$AddItemAttribute,mod projectile heat aim time|1|0,0.01,-1"
                "OnTrigger" "!activator,$AddItemAttribute,damage penalty|0.5|0,0.01"
                "OnTrigger" "!activator,$AddItemAttribute,arrow mastery|3|0,0.01,-1"
            }
            logic_relay
            {
                "targetname" "flare_attack"
                //"OnTrigger" "player,$DisplayTextChat,flare attack,0,-1"
                "OnTrigger" "attack_transition,Trigger,,0,-1"
                "OnTrigger" "templatekiller2_relay,Disable,,0.01,-1"
                "OnTrigger" "!activator,$AddItemAttribute,override projectile type|6|0,0.01,-1"
                "OnTrigger" "!activator,$AddItemAttribute,mult projectile count|15|0,0.01,-1"
                "OnTrigger" "!activator,$AddItemAttribute,projectile spread angle penalty|5|0,0.01,-1"
                "OnTrigger" "!activator,$AddItemAttribute,damage penalty|0.5|0,0.01"
                "OnTrigger" "!activator,$AddItemAttribute,projectile speed increased|1|0,0.01,-1"
            }
            logic_relay
            {
                "targetname" "explosivetip_attack"
                //"OnTrigger" "player,$DisplayTextChat,explosivetip attack,0,-1"
                "OnTrigger" "attack_transition,Trigger,,0,-1"
                "OnTrigger" "templatekiller_relay,Disable,,0.01,-1"
                "OnTrigger" "!activator,$AddItemAttribute,arrow hit kill time|0.1|0,0.01,-1"
                "OnTrigger" "!activator,$AddItemAttribute,mult projectile count|10|0,0.01,-1"
                "OnTrigger" "!activator,$AddItemAttribute,projectile spread angle penalty|10|0,0.01,-1"
                "OnTrigger" "!activator,$AddItemAttribute,projectile trail particle|superrare_greenenergy|0,0.01,-1"
            }
            logic_relay
            {
                "targetname" "bigbullet_attack"
                //"OnTrigger" "player,$DisplayTextChat,bigbullet attack,0,-1"
                "OnTrigger" "attack_transition,Trigger,,0,-1"
                
                "OnTrigger" "!activator,$RemoveItemAttribute,is invisible|1,0.02,-1"
                "OnTrigger" "!activator,$RemoveItemAttribute,is invisible|1,0.1,-1"
                "OnTrigger" "!activator,$RemoveItemAttribute,is invisible|1,0.5,-1"
                "OnTrigger" "!activator,$WeaponSwitchSlot,1,0.02,-1"
                "OnTrigger" "!activator,$AddPlayerAttribute,disable weapon switch|1,0.03,-1" 
                "OnTrigger" "!activator,$RemovePlayerAttribute,disable weapon switch,2.9,-1" 
            }
        }
        underworld_pickups
        {
            item_healthkit_medium
            {
                "angles" "0 90 0"
	            "origin" "-695.191 702.437 -10375.8"
            }
            item_ammopack_medium
            {
                "angles" "0 90 0"
	            "origin" "-695.191 774.437 -10375.7"
            }
            item_healthkit_medium
            {
                "angles" "0 90 0"
	            "origin" "-98.2092 1713.06 -10374.4"
            }
            item_ammopack_medium
            {
                "angles" "0 90 0"
	            "origin" "-98.2092 1785.06 -10374.4"
            }
            item_healthkit_medium
            {
                "angles" "0 135 0"
	            "origin" "-180 3937 -10341"
            }
            item_ammopack_medium
            {
                "angles" "0 135 0"
	            "origin" "-230.912 3987.91 -10341"
            }
            item_healthkit_medium
            {
                "angles" "0 135 0"
	            "origin" "115 6943.09 -10254"
            }
            item_ammopack_medium
            {
                "angles" "0 135 0"
	            "origin" "64.0884 6994 -10254"
            }
            item_healthkit_medium
            {
                "angles" "0 0 0"
	            "origin" "158 5640 -10032.1"
            }
            item_ammopack_full
            {
                "angles" "0 0 0"
	            "origin" "-162 5355 -9912.36"
            }
            item_healthkit_small
            {
                "angles" "0 0 0"
	            "origin" "624 5247 -10322"
            }
            item_ammopack_small
            {
                "angles" "0 0 0"
	            "origin" "258 6294 -10303.2"
            }
            item_ammopack_medium
            {
                "angles" "0 210 0"
	            "origin" "489 4110 -10310"
            }
            item_healthkit_medium
            {
                "angles" "0 210 0"
	            "origin" "557 4133 -10310"
            }
            item_ammopack_small
            {
                "angles" "0 0 0"
	            "origin" "-164 -934 -10127"
            }
            item_healthkit_small
            {
                "angles" "0 0 0"
	            "origin" "-267 -1185 -10207.5"
            }
            item_healthkit_full
            {
                "angles" "0 60 0"
	            "origin" "824 -1514 -10083"
            }
            item_ammopack_full
            {
                "angles" "0 60 0"
	            "origin" "860 -1451.65 -10083"
            }
            item_healthkit_medium
            {
                "angles" "0 180 0"
	            "origin" "1191 -447 -9819"
            }
            item_ammopack_medium
            {
                "angles" "0 180 0"
	            "origin" "1119 -447 -9818.98"
            }
            item_healthkit_medium
            {
                "angles" "0 105 0"
	            "origin" "-5 -2071.55 -10374.1"
            }
            item_ammopack_medium
            {
                "angles" "0 105 0"
	            "origin" "-14 -2027 -10374.1"
            }
        }
        flagtimer_fix
        {
            logic_auto
            {
                "OnMapSpawn" "intel_ironman,SetReturnTime,50,0,-1"
            }
        }
        redplayer_targetname
        {
            OnSpawnOutput
            {
                Target "!activator"
                Action AddOutput
                Param "targetname redplayer"
            }
            OnSpawnOutput
            {
                Target "!activator"
                Action SetCustomModel
                Param ""
            }
            OnParentKilledOutput
            {
                Target "!activator"
                Action SetCustomModel
                Param ""
            }
        }
        bigpointyrocks_template
        {
            prop_dynamic
            {
                "angles" "0 270 0"
	            "model" "models/props_halloween/halloween_rock003_large.mdl"
	            "solid" "6"
	            "targetname" "theresawallhere"
	            "origin" "-11 2692 -10744"
            }
            prop_dynamic
            {
                "angles" "0 270 0"
	            "model" "models/props_halloween/halloween_rock0010_large.mdl"
	            "solid" "6"
	            "targetname" "theresawallhere"
	            "origin" "-698 2816 -10744"
            }
            prop_dynamic
            {
                "angles" "0 270 0"
	            "model" "models/props_halloween/halloween_rock0010_large.mdl"
	            "solid" "6"
	            "targetname" "theresawallhere"
	            "origin" "732 2714 -10744"
            }
            prop_dynamic
            {
                "angles" "0 270 0"
	            "model" "models/props_halloween/halloween_rock007_large.mdl"
	            "solid" "6"
	            "targetname" "theresawallhere"
	            "origin" "-1355 2851 -10744"
            }
            prop_dynamic
            {
                "angles" "0 270 0"
	            "model" "models/props_halloween/halloween_rock008_large.mdl"
	            "solid" "6"
	            "targetname" "theresawallhere"
	            "origin" "1424 2784 -10744"
            }
        }
        colossus_death
        {
            NoFixup 1
            func_tracktrain
			{
				"targetname" "deathtrain"
				"mins" "-1 -1 -1"
				"maxs" "1 1 1"
                "origin" "694 5987 -9694"
                "angles" "0 90 0"
                //"orientationtype" "2"
				"disableshadows" "1"
				"rendermode" "10"
                "speed" "0"
                "startspeed" "50"
				"spawnflags" "536"
				"target" "deathtrack_1"
			}
            path_track
			{
				"targetname"	"deathtrack_1"
				"target"		"deathtrack_2"
				"origin" "694 5987 -9694"
			}
            path_track
			{
				"targetname"	"deathtrack_2"
				"origin" "694 5987 -11094"
			}
            logic_relay
            {
                "targetname" "colossus_death_relay"
                "OnTrigger" "launcherui*,Deactivate,,0,-1"
                "OnTrigger" "launcheraliveness*,Kill,,0.15,-1"
                "OnTrigger" "redplayer,$ForceRespawnDead,,0,-1"
                "OnTrigger" "redplayer,$AddCond,51,0.001,-1"

                "OnTrigger" "player,SetHudVisibility,0,0.001,-1"
                "OnTrigger" "bots_win_relay,Disable,,0,-1"
                "OnTrigger" "colossus_death_prop*,Enable,,0,-1"
                "OnTrigger" "camera_boss_death,$EnableAll,,0.001,-1"
                "OnTrigger" "death_sound_1,PlaySound,,0.001,-1"
                "OnTrigger" "death_sound_2,PlaySound,,2,-1"
                "OnTrigger" "colossus_death_prop,SetAnimation,primary_death_burning,0,-1"
                "OnTrigger" "deathtrain,StartForward,,0,-1"
                
                "OnTrigger" "colossus_death_prop_cosmetic,addoutput,rendermode 0,0,-1"
                "OnTrigger" "colossus_death_prop,setplaybackrate,0.2,7,-1"
                "OnTrigger" "colossus_death_prop,setplaybackrate,0,8,-1"
                "OnTrigger" "redplayer,$TeleportToEntity,teleport_capzone_failsafe_destination,0.1,-1"
                "OnTrigger" "camera_boss_death,$DisableAll,,6,-1"
                "OnTrigger" "fadein_finale,Fade,,4.5,-1"
                "OnTrigger" "underworld_sfx_shake,StartShake,,4.5,-1"
                "OnTrigger" "player,SetHudVisibility,1,6,-1"

                "onspawn" "colossus_death_prop*,Disable,,0,-1"
            }
            env_fade
            {
                "duration"      "1.5"
                "holdtime"      "0"
                "rendercolor"   "255 255 255"
                "targetname"    "fadein_finale"
            }
            info_target
            {
                "targetname" "colossus_lookatme_death"
                "origin" "367 712 -10037"
            }
            point_viewcontrol
            {
                "acceleration" "0"
                "deceleration" "0"
                "target" "colossus_lookatme_death"
                //"interpolatepositiontoplayer" "1"
                "spawnflags" "44"
                //"speed" "0"
                //"parentname" "cameratrain_loot"
                "wait" "100"
                "targetname" "camera_boss_death"
				"origin" "-1 1997 -9168"
                "angles" "33 -51 0"
            }
            prop_dynamic
			{
				"targetname" "colossus_death_prop"
                "origin" "367 712 -10637"
				"angles" "0 90 0"
                "StartDisabled" "1"
				"DisableBoneFollowers" "1" 
				"disableshadows" "1"
				"modelscale" "18"
				"renderfx" "0"
				"rendermode" "0"
				"SetBodyGroup" "1"
				"skin" "4"
                "parentname" "deathtrain"
				"model" "models/bots/skeleton_sniper/skeleton_sniper_fixed.mdl"
                //"DefaultAnim" "primary_death_burning"
                    //PRIMARY_stun_begin
                    //PRIMARY_stun_middle
                    //layer_dieviolent
			}
            //Item "The Triggerman's Tacticals"
            //Item "The Snaggletoothed Stetson"
			prop_dynamic_ornament
			{
				"targetname" "colossus_death_prop_cosmetic"
                "origin" "367 712 -10637"
				"DisableBoneFollowers" "1"
				"disableshadows" "1"
                "StartDisabled" "1"
				"solid" "0"
				"spawnflags" "256"
                "skin" "1"
				"initialowner" "colossus_death_prop"
				"model" "models/workshop/player/items/all_class/hw2013_leather_face/hw2013_leather_face_sniper.mdl"
			}
			prop_dynamic_ornament
			{
				"targetname" "colossus_death_prop_cosmetic"
                "origin" "367 712 -10637"
				"DisableBoneFollowers" "1"
				"disableshadows" "1"
                "StartDisabled" "1"
				"solid" "0"
				"spawnflags" "256"
				"initialowner" "colossus_death_prop"
				"model" "models/workshop/player/items/sniper/short2014_sniper_cargo_pants/short2014_sniper_cargo_pants.mdl"
			}
            ambient_generic
            {
                "targetname" "death_sound_1"
                "health"     "10"
                "message"    "vo/sniper_painsevere02.mp3"
                "pitch"      "70"
                "pitchstart" "100"
                "radius"     "200000"
                "spawnflags" "17"
                "fadeoutsecs" "10"
                "origin" "-12 2888 -9444"
            }
            ambient_generic
            {
                "targetname" "death_sound_2"
                "health"     "10"
                "message"    "vo/sniper_negativevocalization03.mp3"
                "pitch"      "70"
                "pitchstart" "100"
                "radius"     "200000"
                "spawnflags" "17"
                "fadeoutsecs" "10"
                "origin" "-12 2888 -9444"
            }
        }
        
        paintrain_template
        {  
            OnSpawnOutput
            {
                Target "knight_checker"
	        	Action Trigger
	        	Delay 0.1
            }
            OnParentKilledOutput 
	    	{
	    		Target "!activator"
	    		Action "$RemoveItemAttribute"
                Param "CARD: damage bonus|2"
	    	}
            filter_multi
            {
                "targetname" "filter_is_knight"
                "filter01" "filter_has_boots"
				"filter02" "filter_has_shield"
                "OnPass" "!activator,$AddItemAttribute,CARD: damage bonus|2|2,0,-1"
                "OnFail" "!activator,$RemoveItemAttribute,CARD: damage bonus|2,0,-1"
            }
  	    	filter_tf_condition
	    	{
	    		"targetname" "filter_has_boots"
	    		"Negated" "0"
	    		"condition" "130"
	    	}
  	    	filter_tf_condition
	    	{
	    		"targetname" "filter_has_shield"
	    		"Negated" "0"
	    		"condition" "131"
	    	}
            logic_relay 
            {
                "targetname" "knight_checker"
                "OnTrigger" "filter_is_knight,TestActivator,!activator,0,-1"
            } 	
        }
        boots_equipped
        {
            OnSpawnOutput
            {
                Target "!activator"
	        	Action "$AddCond"
                Param "130"
                Delay 0.02
            }
        }
        shield_equipped
        {
            OnSpawnOutput
            {
                Target "!activator"
	        	Action "$AddCond"
                Param "131"
                Delay 0.02
            }
        }
        paintrain_fix_template
        {
            OnSpawnOutput
	    	{
	    		Target "!activator"
	    		Action "$RemoveItemAttribute"
                Param "CARD: damage bonus|2"
                Delay 0.11
	    	}
            OnSpawnOutput
            {
                Target "!activator"
	        	Action "$RemoveCond"
                Param "130"
                Delay 0.01
            } 
            OnSpawnOutput
            {
                Target "!activator"
	        	Action "$RemoveCond"
                Param "131"
                Delay 0.01
            } 
        }
        brushbug_fix_template
        {
            NoFixup 1
            trigger_multiple
            {
                "targetname" "brushbug_check"
	            "StartDisabled" "1"
	            "spawnflags" "1"
	            "origin" "-64 -1408 -600"
                "mins" "-5000 -7000 -1200"
                "maxs" "5000 7000 1200"
	            "filtername" "filter_redteam"
                //"OnStartTouch" "player,$DisplayTextChat,works,0,-1"
                "OnStartTouch" "brushbug_finale_relay,Kill,,0,-1"
                "OnStartTouch" "finale_spawnedplayer_relay,Kill,,0,-1"
                "OnStartTouch" "!self,Disable,,0,-1"
                "OnStartTouch" "!self,Kill,,0.01,-1"
            }
            trigger_multiple
            {
                "targetname" "brushbug_init_check"
	            "spawnflags" "1"
	            "origin" "-64 -1408 -600"
                "mins" "-5000 -7000 -1200"
                "maxs" "5000 7000 1200"
	            "filtername" "filter_redteam"
                //"OnStartTouch" "player,$DisplayTextChat,works,0,-1"
                "OnStartTouch" "brushbug_init_relay,Kill,,0,-1"
                "OnStartTouch" "!self,Disable,,0,-1"
                "OnStartTouch" "!self,Kill,,0.01,-1"
            }
            logic_relay
            {
                "targetname" "brushbug_init_relay"
				"spawnflags" "1"
                "OnTrigger" "player,$DisplayTextChat,{red}WARNING! {FFBC00}If you're seeing this you are currently playing a {red}bugged version of this mission!,0,-1"
                "OnTrigger" "player,$DisplayTextChat,{FFBC00}This means that many intended features will {red}NOT {FFBC00}be functional!,0.01,-1"
                "OnTrigger" "player,$DisplayTextChat,{FFBC00}Please report this occurrence along with the server number in the #hexadecimalhorrors-feedback channel in the {AE703A}Potato's Custom MvM Servers discord.,0.02,-1"
                "OnTrigger" "player,$DisplayTextChat,{FFBC00}Thank you and sorry for the inconvenience.,0.03,-1"
            }
            logic_relay
            {
                "targetname" "brushbug_finale_relay"
                "OnTrigger" "underworld_loot_relay,Kill,,0,-1"
                "OnTrigger" "gamerules,SetRedTeamRespawnWaveTime,3,0,-1"
                "OnTrigger" "underworld_hurt_zone,Disable,,0,-1"
                "OnTrigger" "yea room,Disable,,0,-1"
                "OnTrigger" "yea room finale,Enable,,0,-1"
                "OnTrigger" "island_door_fx,Enable,,0,-1"
                "OnTrigger" "fadein,Fade,,0,-1"
                "OnTrigger" "underworld_gatehouse_open,PlaySound,,0,-1"
                "OnTrigger" "underworld_sfx_shake,StartShake,,0,-1"
                "OnTrigger" "underworld_gatehouse_open,PlaySound,,2,-1"
                "OnTrigger" "underworld_sfx_shake,StartShake,,2,-1"
                "OnTrigger" "redplayer,$TeleportToEntity,spawn_gate,3,-1"
                "OnTrigger" "clearbuildings_trigger,Enable,,3,-1"
                "OnTrigger" "finale_spawnedplayer_relay,Enable,,0,-1"
                "OnTrigger" "trigger_add_tf_player_condition,Disable,,0,-1"
                "OnTrigger" "env_soundscape,Disable,,0,-1"
                "OnTrigger" "spawnbot_underworld*,Enable,,0,-1"
                "OnTrigger" "intel*,Kill,,0.01,-1"
                "OnTrigger" "finale_music_start_relay,Trigger,,3,-1"
                "OnTrigger" "spawnbot_colossus,Enable,,3,-1"
                "OnTrigger" "middle_text,Display,,4,-1"
                "OnTrigger" "colossus_sound,PlaySound,,4.5,-1"
                "OnTrigger" "spawnbot_timer,Enable,,9,-1"
            }
            logic_relay
            {
                "targetname" "finale_spawnedplayer_relay"
                "StartDisabled" "1"
                "OnTrigger" "!activator,$TeleportToEntity,spawn_gate,0,-1"
            }
        }
        brushbug_fix_playertemplate
        {
            OnSpawnOutput
            {
                Target "finale_spawnedplayer_relay"
                Action Trigger
            }
            OnSpawnOutput
            {
                Target "brushbug_init_relay"
                Action Trigger
                Delay 3   
            }
        }
    }
    PlayerSpawnTemplate "brushbug_fix_playertemplate"
    PlayerSpawnTemplate "playerweapon_fix"
    PlayerSpawnTemplate "redplayer_targetname"
    SpawnTemplate "brushbug_fix_template"
    SpawnTemplate "colossus_death"
    SpawnTemplate "bigpointyrocks_template"
    SpawnTemplate "flagtimer_fix"
    SpawnTemplate "underworld_pickups"
    SpawnTemplate "Explosive_Tip_Logic"
    SpawnTemplate "underworld_spawn_logic"
    SpawnTemplate "blimp_skele"
    SpawnTemplate "Combo_Pyro"
    SpawnTemplate "colossus_attacks"
}